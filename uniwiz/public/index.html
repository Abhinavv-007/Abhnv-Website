<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University Super Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-light: #f7fafc;
            --bg-dark: #161b22;
            --text-light-primary: #1a202c;
            --text-light-secondary: #4a5568;
            --text-dark-primary: #e2e8f0;
            --text-dark-secondary: #a0aec0;
            --card-bg-light: #ffffff;
            --card-bg-dark: #1c2128;
            --border-light: #e2e8f0;
            --border-dark: #30363d;
            --accent-color-1: #3b82f6; /* Blue */
            --accent-color-2: #ec4899; /* Pink */
        }
        html.dark { color-scheme: dark; }
        body {
            font-family: 'Inter', 'Poppins', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-light-primary);
            transition: background-color 0.3s, color 0.3s;
        }
        .dark body {
            background-color: var(--bg-dark);
            color: var(--text-dark-primary);
        }
        .gradient-text {
            background: linear-gradient(to right, var(--accent-color-2), var(--accent-color-1));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: subtle-glow 4s ease-in-out infinite;
        }
        .dark .gradient-text {
            background: linear-gradient(to right, #f9a8d4, #93c5fd);
             -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        @keyframes subtle-glow {
            0%, 100% { filter: drop-shadow(0 0 3px rgba(236, 72, 153, 0.4)); }
            50% { filter: drop-shadow(0 0 8px rgba(96, 165, 250, 0.4)); }
        }
        .main-nav-btn, .filter-btn, .modal-tab-btn {
            transition: all 0.2s ease-in-out;
        }
        .main-nav-btn.active, .filter-btn.active, .modal-tab-btn.active {
            background-color: var(--accent-color-1) !important;
            color: white !important;
            box-shadow: 0 4px 14px 0 rgba(59, 130, 246, 0.39);
             border-color: var(--accent-color-1) !important;
        }
        .dark .main-nav-btn.active, .dark .filter-btn.active, .dark .modal-tab-btn.active {
            background-color: var(--accent-color-1) !important;
             color: white !important;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin: auto;
            height: 400px;
        }
        .custom-scrollbar::-webkit-scrollbar { height: 4px; width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #a0aec0; border-radius: 10px; }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb { background: #4a5568; }
        .modal-card-height { max-height: 90vh; }
        .university-card, .scholarship-card {
            background-color: var(--card-bg-light);
            border: 1px solid var(--border-light);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .dark .university-card, .dark .scholarship-card {
            background-color: var(--card-bg-dark);
            border: 1px solid var(--border-dark);
        }
         .university-card:hover, .scholarship-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        html.dark .university-card:hover, html.dark .scholarship-card:hover {
             box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.15);
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--accent-color-2);
            border-radius: 50%;
            width: 32px;
            height: 32px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .ai-button {
            background-image: linear-gradient(to right, var(--accent-color-2) 0%, var(--accent-color-1) 51%, var(--accent-color-2) 100%);
            background-size: 200% auto;
            transition: background-position 0.5s;
        }
        .ai-button:hover {
            background-position: right center;
        }
        .typing-indicator span {
            height: 8px; width: 8px;
            background-color: var(--text-light-secondary);
            border-radius: 50%; display: inline-block;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .dark .typing-indicator span { background-color: var(--text-dark-secondary); }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
    </style>
</head>
<body class="antialiased">

    <div id="app" class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-10 relative">
            <h1 class="text-4xl md:text-5xl font-bold mb-2 gradient-text">University Super Explorer</h1>
            <p class="text-lg text-gray-600 dark:text-gray-400">Your Unified Guide to Global Education</p>
            <button id="theme-toggle" class="absolute top-0 right-0 p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                <svg id="theme-toggle-dark-icon" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                <svg id="theme-toggle-light-icon" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 5.05A1 1 0 003.636 6.464l.707.707a1 1 0 001.414-1.414l-.707-.707zM3 11a1 1 0 100-2H2a1 1 0 100 2h1zM13.536 14.95a1 1 0 010-1.414l.707-.707a1 1 0 011.414 1.414l-.707.707a1 1 0 01-1.414 0z"></path></svg>
            </button>
        </header>

        <nav class="bg-white/70 dark:bg-gray-800/50 backdrop-blur-sm p-3 rounded-full shadow-lg mb-8 sticky top-4 z-50 flex flex-wrap justify-center items-center gap-2 border border-gray-200 dark:border-gray-700">
             <button data-view="ComputerScience" class="main-nav-btn active font-semibold text-gray-600 dark:text-gray-300 py-2 px-5 rounded-full">Computer Science</button>
             <button data-view="Engineering" class="main-nav-btn font-semibold text-gray-600 dark:text-gray-300 py-2 px-5 rounded-full">Engineering</button>
             <button data-view="Humanities" class="main-nav-btn font-semibold text-gray-600 dark:text-gray-300 py-2 px-5 rounded-full">Humanities</button>
             <button data-view="Commerce" class="main-nav-btn font-semibold text-gray-600 dark:text-gray-300 py-2 px-5 rounded-full">Commerce</button>
             <button data-view="Scholarships" class="main-nav-btn font-semibold text-gray-600 dark:text-gray-300 py-2 px-5 rounded-full">Scholarships</button>
        </nav>

        <div class="text-center mb-8">
            <button id="open-ask-ai-modal-btn" class="ai-button text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all">
                ü§ñüí¨ UniWhiz ‚Äì Your Smart Admissions Guide
            </button>
        </div>

        <main id="main-content">
            </main>
    </div>

    <div id="university-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden items-center justify-center p-4 backdrop-blur-sm"></div>
    <div id="ai-chat-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden items-center justify-center p-4 backdrop-blur-sm">
      <div class="bg-card-bg-light dark:bg-card-bg-dark rounded-2xl shadow-2xl w-full max-w-2xl modal-card-height flex flex-col border border-border-light dark:border-border-dark">
            <div class="p-6 border-b border-border-light dark:border-border-dark flex justify-between items-start">
                <div>
                    <h2 class="text-3xl font-bold text-text-light-primary dark:text-text-dark-primary">UniWhiz</h2>
                    <p id="ai-modal-subtitle" class="text-md text-text-light-secondary dark:text-text-dark-secondary">Your smart university helper ü§ñüí¨</p>
                </div>
                <button id="close-ask-ai-modal" class="text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-500 transition-colors text-3xl font-bold">&times;</button>
            </div>
            <div id="ai-chat-box" class="p-6 flex-1 overflow-y-auto custom-scrollbar space-y-4"></div>
            <div class="p-6 border-t border-border-light dark:border-border-dark">
                <div id="ai-thinking-indicator" class="hidden mb-2 flex items-center space-x-2">
                    <span class="text-gray-500 dark:text-gray-400">UniWhiz is thinking...</span>
                    <div class="typing-indicator"><span></span><span></span><span></span></div>
                </div>
                <div id="ai-input-container" class="flex space-x-2">
                    <input type="text" id="ai-question-input" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-pink-400 transition-shadow" placeholder="Ask about universities, applications...">
                    <button id="send-ai-question" class="ai-button text-white font-bold py-2 px-4 rounded-lg hover:shadow-xl transition-all">Send</button>
                </div>
            </div>
        </div>
    </div>
    
    <footer class="text-center py-8 mt-8 border-t border-gray-200 dark:border-gray-700">
         <div class="inline-flex items-center space-x-2">
            <p class="text-gray-600 dark:text-gray-400">Made with ‚ù§Ô∏è by Abhinav</p>
            <a href="https://www.linkedin.com/in/abhnv07/" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd"></path></svg>
            </a>
         </div>
    </footer>

    <script>
        // --- DATA STORE ---
        const AppData = {
            'ComputerScience': {
                universities: [
                    { id: 'mit-cs', name: 'Massachusetts Institute of Technology', country: 'USA', qsRank: 1, location: 'Cambridge, MA, USA', website: 'https://www.eecs.mit.edu/', type: 'Private Research University', appDeadlines: 'Jan 4 (Regular)', appOpening: 'Mid-Aug', duration: '4 Years', degree: 'BS in Computer Science and Engineering (Course 6-3)', structure: 'Rigorous core curriculum (GIRs) followed by deep specialization. Project-based classes are common.', specializations: ['Artificial Intelligence', 'Computer Systems', 'Theoretical CS', 'Graphics'], research: "UROP (Undergraduate Research Opportunities Program) is a cornerstone of the MIT experience.", internships: "Strongly encouraged; extensive network via Career Advising & Professional Development (CAPD).", partners: ['Google', 'Microsoft', 'Amazon', 'Meta', 'DARPA', 'Lincoln Lab'], admissionReq: 'Holistic review; exceptional academics, test scores (SAT/ACT optional but recommended), and evidence of hands-on creativity are key.', englishTests: 'IELTS: 7.5, TOEFL iBT: 100', docs: ['Common App/MyMIT App', 'Essays', '2 Teacher LORs', 'School Profile'], appFee: '$75', tuition: 61990, tuitionLocal: '$61,990', scholarships: 'Need-blind admission. Full demonstrated need met with grants and work-study.', onCampusHousing: 'Guaranteed for first year. Approx. $13,000/year.', offCampusHousing: '$1,200 - $2,000/month per person.', livingExpenses: '$20,000 - $25,000/year.', visa: 'F-1 visa, with access to OPT/STEM OPT.', careerProspects: 'Highest starting salaries in the US. Graduates are prime hires for top tech, finance, and startups.', employability: '#1 in the world.', alumni: ['Buzz Aldrin', 'Richard Feynman', 'Drew Houston (Dropbox)'], intlStudents: '11%', culture: 'Intense, collaborative "work hard, play hard" environment. Known for its "hacker" culture.', weather: 'Four distinct seasons, cold winters, warm summers.', reputation: 'The undisputed #1 for engineering and computer science globally.', pros: ['Unmatched global reputation', 'Exceptional research opportunities (UROP)', 'Incredibly strong alumni and industry network'], cons: ['Extremely high academic pressure', 'Very high cost of attendance (though aid is generous)', 'Highly selective admissions'], reviews: 'Students describe it as "drinking from a firehose" - incredibly challenging but transformative.', rating: 10.0 },
                    { id: 'stanford-cs', name: 'Stanford University', country: 'USA', qsRank: 2, location: 'Stanford, CA, USA', website: 'https://cs.stanford.edu/', type: 'Private Research University', appDeadlines: 'Jan 5 (Regular)', appOpening: 'Aug 1', duration: '4 Years', degree: 'B.S. in Computer Science', structure: 'Flexible curriculum with foundational courses followed by specialized tracks.', specializations: ['Artificial Intelligence', 'Human-Computer Interaction (HCI)', 'Systems', 'Biocomputation'], research: "CURIS (Undergraduate Research) and faculty-led projects are abundant.", internships: "Integral part of the culture. Proximity to Silicon Valley provides unparalleled opportunities.", partners: ['Every major Silicon Valley company (Apple, Google, etc.)', 'VC firms'], admissionReq: 'Holistic review; exceptional academics, intellectual vitality, and extracurricular impact are crucial. SAT/ACT optional.', englishTests: 'Not required if language of instruction was English.', docs: ['Common App', 'Stanford Questions', 'LORs'], appFee: '$90', tuition: 61730, tuitionLocal: '$61,731', scholarships: 'Need-blind admission. Full demonstrated need met with grants.', onCampusHousing: 'Guaranteed for all 4 years. Approx. $19,000/year for room and board.', offCampusHousing: 'Very expensive and limited.', livingExpenses: '$22,000 - $28,000/year.', visa: 'F-1 visa, OPT/STEM OPT.', careerProspects: 'Direct pipeline to Silicon Valley. Many graduates found startups or join top tech firms.', employability: '#2 in the world.', alumni: ['Larry Page & Sergey Brin (Google)', 'Jensen Huang (Nvidia)'], intlStudents: '10%', culture: 'Entrepreneurial, sunny, and interdisciplinary. Less intense than MIT, with a focus on innovation.', weather: 'Mediterranean, mostly sunny.', reputation: 'A top-tier institution, synonymous with innovation and Silicon Valley.', pros: ['Heart of Silicon Valley', 'Strong entrepreneurial culture', 'Excellent quality of life'], cons: ['Extremely high cost of living', 'Highly competitive, startup-focused culture can be stressful', 'Extremely selective'], reviews: 'Praised for its beautiful campus, world-class faculty, and endless opportunities.', rating: 9.9 },
                    { id: 'cmu-cs', name: 'Carnegie Mellon University', country: 'USA', qsRank: 3, location: 'Pittsburgh, PA, USA', website: 'https://www.cs.cmu.edu/', type: 'Private Research University', appDeadlines: 'Jan 3 (Regular)', appOpening: 'Aug 1', duration: '4 Years', degree: 'B.S. in Computer Science', structure: 'Deeply rigorous, with a strong focus on mathematical and theoretical foundations from day one.', specializations: ['Artificial Intelligence', 'Robotics', 'Computational Biology', 'Computer Systems'], research: "Research is deeply integrated into the curriculum from the first year.", internships: "Strong recruiting culture with top tech companies visiting campus frequently.", partners: ['Google (has a large Pittsburgh office)', 'Microsoft', 'Apple', 'Uber ATG'], admissionReq: 'Admission is to a specific school. The School of CS is among the most selective. High grades and test scores are critical.', englishTests: 'IELTS: 7.5, TOEFL iBT: 102', docs: ['Common App', 'CMU Supplement', 'LORs'], appFee: '$75', tuition: 64500, tuitionLocal: '$64,560', scholarships: 'Need-aware for internationals. Limited financial aid available.', onCampusHousing: 'Guaranteed for first year. Approx. $11,000/year.', offCampusHousing: '$800 - $1,200/month.', livingExpenses: '$18,000 - $22,000/year.', visa: 'F-1 visa, OPT/STEM OPT.', careerProspects: 'Graduates are among the most sought-after and highest-paid in the tech industry.', employability: 'Top 5 for CS in the US.', alumni: ['Andy Bechtolsheim (Sun Microsystems)', 'James Gosling (Java creator)'], intlStudents: '23%', culture: 'Intensely focused, rigorous, and collaborative. A "nerdy" paradise.', weather: 'Four seasons, cloudy with cold winters.', reputation: 'A powerhouse in Computer Science and AI, often ranked #1 in specific fields.', pros: ['World-class in AI and Robotics', 'Extremely strong, technical curriculum', 'Exceptional career outcomes'], cons: ['Intense workload and high-stress environment', 'Need-aware for international students', 'Pittsburgh weather'], reviews: 'Students consistently mention the challenging curriculum that prepares them exceptionally well for the industry.', rating: 9.8 },
                    { id: 'berkeley-cs', name: 'UC Berkeley', country: 'USA', qsRank: 4, location: 'Berkeley, CA, USA', website: 'https://eecs.berkeley.edu/', type: 'Public Research University', appDeadlines: 'Nov 30', appOpening: 'Oct 1', duration: '4 Years', degree: 'B.S. in EECS or B.A. in CS', structure: 'EECS in College of Engineering (more hardware focus) or CS in Letters & Science (more flexibility). Both are highly rigorous.', specializations: ['AI', 'Robotics', 'Cybersecurity', 'Graphics'], research: 'Many opportunities through URAP (Undergraduate Research Apprentice Program).', internships: "Bay Area location provides countless internship opportunities.", partners: ['Every major Bay Area tech company', 'Lawrence Berkeley National Laboratory'], admissionReq: 'UC Application. Holistic review with emphasis on grades, essay responses. SAT/ACT not considered.', englishTests: 'IELTS: 6.5, TOEFL iBT: 80', docs: ['UC Application', 'Personal Insight Questions'], appFee: '$95', tuition: 48500, tuitionLocal: '$15,800 (in-state), $48,500 (out-of-state)', scholarships: 'Limited for internationals. Berkeley Undergraduate Scholarship is a primary source.', onCampusHousing: 'Limited, not guaranteed after first year. Approx. $20,000/year room & board.', offCampusHousing: 'Very expensive and competitive rental market.', livingExpenses: '$25,000 - $30,000/year.', visa: 'F-1 visa, OPT/STEM OPT.', careerProspects: 'Identical to Stanford; graduates are highly sought after in the Bay Area and beyond.', employability: 'Top 5 globally.', alumni: ['Steve Wozniak (Apple)', 'Eric Schmidt (Google)'], intlStudents: '13%', culture: 'Politically active, diverse, and intellectually vibrant campus culture.', weather: 'Mild, temperate climate.', reputation: 'The top public university in the world for computer science.', pros: ['Top public university globally', 'Proximity to San Francisco and Silicon Valley', 'World-class faculty and research'], cons: ['Large class sizes', 'Housing is a major challenge', 'Bureaucracy of a large public university'], reviews: 'Praised for its academic excellence and vibrant, diverse student body, but criticized for impacted resources.', rating: 9.7 },
                    { id: 'uiuc-cs', name: 'University of Illinois Urbana-Champaign', country: 'USA', qsRank: 8, location: 'Urbana-Champaign, IL, USA', website: 'https://cs.illinois.edu/', type: 'Public Research University', appDeadlines: 'Jan 5 (Regular)', appOpening: 'Sep 1', duration: '4 Years', degree: 'B.S. in Computer Science', structure: 'Highly respected, rigorous program with strong foundations and diverse advanced courses.', specializations: ['Computer Systems & Networking', 'AI & Robotics', 'HCI', 'Security & Privacy'], research: 'Extensive undergraduate research opportunities in its numerous labs and research centers.', internships: 'Strong on-campus recruiting from tech giants and Midwest tech firms.', partners: ['Microsoft', 'Google', 'Caterpillar', 'State Farm', 'John Deere'], admissionReq: 'Admission is highly competitive. Strong math background and GPA are essential.', englishTests: 'IELTS: 7.5, TOEFL iBT: 103', docs: ['Common App/myIllini', 'Essays'], appFee: '$75', tuition: 42000, tuitionLocal: '$17,500 (in-state), $42,000 (out-of-state)', scholarships: 'Limited merit scholarships for international students.', onCampusHousing: 'Guaranteed for first year. Approx. $12,500/year.', offCampusHousing: 'Affordable options available.', livingExpenses: '$16,000 - $20,000/year.', visa: 'F-1 visa, OPT/STEM OPT.', careerProspects: 'A primary recruiting target for top tech companies despite its Midwest location.', employability: 'Top 15 in the US.', alumni: ['Marc Andreessen (Netscape)', 'Max Levchin (PayPal)'], intlStudents: '12%', culture: 'Classic large American university experience in a college town. Strong engineering culture.', weather: 'Four seasons, cold winters, hot summers.', reputation: 'A top 5-10 CS program in the US, known as a "public Ivy".', pros: ['Elite CS program at a public school price', 'Strong recruiting from major companies', 'Lower cost of living'], cons: ['Remote "college town" location', 'Large class sizes', 'Limited international aid'], reviews: 'Students praise the quality of education and the strong sense of community.', rating: 9.4 },
                    { id: 'nus-cs', name: 'National University of Singapore', country: 'Singapore', qsRank: 8, location: 'Singapore, Singapore', website: 'https://cde.nus.edu.sg/ece/undergraduate/computer-engineering-programme/', type: 'Public, Autonomous, Research-intensive', appDeadlines: '20 Nov 2024 to 26 Feb 2025', appOpening: '20 Nov 2024', duration: '4 Years', degree: 'BEng (Computer Engineering)', structure: '160 MCs. Integrates hardware and software.', specializations: ['Digital Systems', 'Large-Scale Computing', 'Intelligent Systems'], research: "UROP", internships: "Mandatory 20-week IA or 12-week VIP.", partners: ['Google', 'Microsoft', 'Intel', 'Nvidia'], admissionReq: 'CBSE/ISC: >95% recommended. Maths & Physics/Chemistry required.', englishTests: 'IELTS: 6.5, TOEFL iBT: 92-93', docs: ['Transcripts', 'Passport', 'Personal Statement'], appFee: 'SGD 20', tuition: 14800, tuitionLocal: 'SGD 20,000 (with MOE Grant)', scholarships: 'ASEAN/S&T Scholarships (Full tuition + allowances).', onCampusHousing: 'Guaranteed for 2 years. SGD 96 - 235/week.', offCampusHousing: 'SGD 700 - 1,400/month for a room.', livingExpenses: 'SGD 1,000 - 2,500/month.', visa: '1-year LTVP to find work.', careerProspects: 'Mean starting salary: SGD 6,300/month.', employability: '9th in the world (GEURS 2025).', alumni: ['Founders of 99.co, Carousell'], intlStudents: '26% - 36%', culture: 'Vibrant, international, highly competitive.', weather: 'Tropical.', reputation: '4th globally for CS, 6th for EEE.', pros: ['Elite global reputation', 'Exceptional career outcomes', 'Strong industry integration'], cons: ['Extremely competitive', 'High-pressure environment', '3-year work bond'], reviews: 'Forums emphasize intense academic rigor.', rating: 9.5 },
                    { id: 'ntu-cs', name: 'Nanyang Technological University', country: 'Singapore', qsRank: 26, location: 'Singapore, Singapore', website: 'https://www.ntu.edu.sg/education/undergraduate-programme/bachelor-of-engineering-in-computer-science', type: 'Public, Autonomous, Research-intensive', appDeadlines: '4 Nov 2024 to 19 March 2025', appOpening: '4 Nov 2024', duration: '4 Years', degree: 'BEng in Computer Science', structure: 'AU system. Accredited by EAB Singapore.', specializations: ['AI', 'Big Data', 'Cybersecurity', 'Game Innovation'], research: 'NRP', internships: "Mandatory 20-week PI or 10-week PA.", partners: ['Strong ties with infocomm industry.'], admissionReq: 'CBSE/ISC: >90%. Maths & Physics required.', englishTests: 'IELTS: 6.0, TOEFL iBT: 90', docs: ['Passport', 'Transcripts'], appFee: 'SGD 25', tuition: 14800, tuitionLocal: 'SGD 20,000 (with MOE Grant)', scholarships: 'Nanyang Scholarship (Full tuition + allowances).', onCampusHousing: 'Guaranteed for 2 years. SGD 420 - 630/month.', offCampusHousing: 'SGD 700 - 1,400/month for a room.', livingExpenses: 'SGD 970 - 1,725/month.', visa: '1-year LTVP.', careerProspects: 'Mean starting salary: S$5,800/month.', employability: 'Graduates command highest median salaries in SG tech sector.', alumni: ['Tan Lip-Bu (CEO, Cadence Design Systems)'], intlStudents: '31% - 45%', culture: 'Vibrant, inclusive, "Smart Campus".', weather: 'Tropical.', reputation: '6th globally for CS, 4th for Eng & Tech.', pros: ['Elite global ranking', 'Strong career outcomes', 'Practice-oriented curriculum'], cons: ['Highly competitive', 'Perceived as "second choice" to NUS', '3-year work bond'], reviews: 'Reddit discussions highlight strong theory but emphasize need for self-initiative.', rating: 9.2 },
                    { id: 'unimelb-cs', name: 'University of Melbourne', country: 'Australia', qsRank: 13, location: 'Melbourne, Australia', website: 'https://study.unimelb.edu.au/find/courses/undergraduate/bachelor-of-science/', type: 'Public Research University (Go8)', appDeadlines: '31 March 2025 (July intake)', appOpening: 'Open', duration: '3 Years', degree: 'BSc (major in Computing & Software Systems)', structure: '"Melbourne Model" - broad undergrad, specialized postgrad.', specializations: ['AI', 'CS Theory', 'HCI', 'Cybersecurity'], research: 'UROP', internships: 'Encouraged via industry projects.', partners: ['Microsoft', 'Oracle', 'Cisco'], admissionReq: 'CBSE/ISC: 96%+. SAT: 1193-1430.', englishTests: 'IELTS: 6.5, TOEFL iBT: 79', docs: ['Transcripts', 'English test', 'Passport'], appFee: 'AUD $150', tuition: 35350, tuitionLocal: 'AUD $49,188 - $57,928', scholarships: 'Melbourne Int\'l Scholarship (25%-100% remission).', onCampusHousing: 'Available. AUD $420 - $850/week.', offCampusHousing: 'Large private rental market.', livingExpenses: 'AUD $1,500 - $2,500/month.', visa: '2-year visa.', careerProspects: 'Many proceed to Master of Engineering.', employability: '8th in the world (QS 2022).', alumni: ['Tech leaders fostered via Melbourne Connect.'], intlStudents: '41%', culture: 'Vibrant, academic, highly international.', weather: 'Temperate oceanic.', reputation: '#1 in Australia for CS.', pros: ['#1 in Australia', 'Outstanding global employability', 'Holistic "Melbourne Model"'], cons: ['Indirect pathway to BEng (requires Master\'s)', 'Very high tuition fees', 'High cost of living'], reviews: 'Praised for flexibility, but some prefer a more direct vocational degree.', rating: 9.3 },
                    { id: 'usyd-cs', name: 'University of Sydney', country: 'Australia', qsRank: 18, location: 'Sydney, Australia', website: 'https://www.sydney.edu.au/courses/courses/uc/bachelor-of-engineering-honours-software.html', type: 'Public Research University (Go8)', appDeadlines: '1 Dec (Feb intake), 15 May (Aug intake)', appOpening: 'Open', duration: '4 Years', degree: 'BEng Honours (Software)', structure: 'Accredited engineering degree.', specializations: ['Software Engineering', 'Cybersecurity', 'AI'], research: 'Required Honours thesis.', internships: "Mandatory 12-week industry placement.", partners: ['1200+ industry connections (Microsoft, Google, Atlassian).'], admissionReq: 'ATAR 92 equivalent. SAT: 1310+.', englishTests: 'IELTS: 6.5, TOEFL iBT: 85', docs: ['Transcripts', 'English test', 'Passport'], appFee: 'Varies', tuition: 38100, tuitionLocal: 'AUD $57,700', scholarships: 'Sydney Int\'l Academic Excellence Scholarship (100% tuition).', onCampusHousing: 'Available. AUD $473 - $664/week.', offCampusHousing: 'Available but very expensive.', livingExpenses: 'AUD $1,800 - $2,800/month.', visa: '2-year visa.', careerProspects: 'Highly employable as accredited Software Engineers.', employability: '2nd in Australia for employer reputation.', alumni: ['Dr. John O\'Sullivan (Wi-Fi inventor)'], intlStudents: '44%', culture: 'Historic campus, modern, cosmopolitan.', weather: 'Humid subtropical.', reputation: 'Global Top 20. Strong in Engineering and AI.', pros: ['Elite global ranking', 'Excellent employability', 'Accredited Engineering degree'], cons: ['Very high costs', 'Large & impersonal', 'Highly competitive'], reviews: 'Praised for beautiful campus and social life.', rating: 9.1 },
                    { id: 'unsw-cs', name: 'UNSW Sydney', country: 'Australia', qsRank: 19, location: 'Sydney, Australia', website: 'https://www.unsw.edu.au/study/undergraduate/bachelor-of-engineering-honours-computer', type: 'Public Research University (Go8)', appDeadlines: 'Varies by trimester', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) (Computer Engineering)', structure: '192 UOC over trimester system. Accredited by Engineers Australia.', specializations: ['Embedded Systems', 'Systems-on-a-Chip', 'Software Design'], research: 'Required Honours thesis.', internships: "Mandatory 60 days of Industrial Training.", partners: ['Google', 'Microsoft', 'Meta', 'Tesla', 'Atlassian'], admissionReq: 'ATAR 93 equivalent.', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'English test', 'Passport'], appFee: 'AUD $150', tuition: 38300, tuitionLocal: 'AUD $58,000', scholarships: 'Int\'l Scientia Scholarship (Full tuition or $20k p.a.).', onCampusHousing: 'Available. AUD $348 - $566/week.', offCampusHousing: 'Available in surrounding suburbs.', livingExpenses: 'AUD $1,800 - $2,800/month.', visa: '2-year visa.', careerProspects: '#1 in Australia for employment outcomes.', employability: 'Most Employable Students award (AFR, 2020-2025).', alumni: ['Founders of Eucalyptus, Shippit, Stake.'], intlStudents: '41%', culture: 'Dynamic, innovative, entrepreneurial.', weather: 'Humid subtropical.', reputation: '#1 in Australia for Engineering & Technology.', pros: ['Top-tier Eng & Tech reputation', 'Exceptional employability', 'Research-informed curriculum'], cons: ['Very high costs', 'Intense trimester system', 'Large & competitive'], reviews: 'Praised for industry connections. Trimester system gets mixed reviews.', rating: 9.0 },
                    { id: 'tudelft-cs', name: 'Delft University of Technology', country: 'Netherlands', qsRank: 49, location: 'Delft, Netherlands', website: 'https://www.tudelft.nl/onderwijs/opleidingen/bachelor/bsc-computer-science-and-engineering', type: 'Public Technical University', appDeadlines: '15 Jan 2025 (Numerus Fixus)', appOpening: '1 Oct 2024', duration: '3 Years', degree: 'BSc Computer Science and Engineering', structure: '180 ECTS. Project-based learning.', specializations: ['Software Engineering', 'Algorithms', 'Data Science', 'Cybersecurity'], research: 'BSc thesis project.', internships: 'Optional.', partners: ['ASML', 'Philips', 'Shell', 'KPN'], admissionReq: 'CBSE/ISC with 80%+. Maths & Physics required. Selection test required.', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'CV', 'Motivation Letter'], appFee: '‚Ç¨100', tuition: 17750, tuitionLocal: '‚Ç¨17,750', scholarships: 'TU Delft Excellence Scholarship (Full tuition + living costs).', onCampusHousing: 'Limited, competitive.', offCampusHousing: '‚Ç¨400 - ‚Ç¨800/month. Very competitive.', livingExpenses: '‚Ç¨900 - ‚Ç¨1,500/month.', visa: '1-year orientation year visa.', careerProspects: 'Excellent in EU tech sector. Avg. salary ‚Ç¨45k-‚Ç¨55k.', employability: 'Very high.', alumni: ['N/A'], intlStudents: '30%', culture: 'International, engineering-focused, collaborative.', weather: 'Temperate maritime.', reputation: 'Top-tier global engineering & CS reputation.', pros: ['World-class technical education', 'Relatively affordable tuition', 'Strong EU career prospects'], cons: ['Extreme housing shortage', 'Numerus Fixus (limited spots)', 'Rigorous curriculum'], reviews: 'Students praise education quality but warn about housing crisis.', rating: 9.0 },
                    { id: 'aalto-cs', name: 'Aalto University', country: 'Finland', qsRank: 109, location: 'Espoo, Finland', website: 'https://www.aalto.fi/en/study-options/bachelors-programme-in-science-and-technology-computer-science', type: 'Public Research University', appDeadlines: '17 Jan 2025', appOpening: '3 Jan 2025', duration: '3 Years', degree: 'BSc (Technology)', structure: '180 ECTS. Common first year, then specialization.', specializations: ['Computer Science', 'Data Science', 'Software and Information Systems'], research: 'Research-based bachelor\'s thesis.', internships: 'Supported.', partners: ['Nokia', 'Supercell', 'Rovio', 'Kone'], admissionReq: 'SAT score (1350+ recommended).', englishTests: 'SAT is primary proof.', docs: ['Transcripts', 'SAT scores', 'Passport'], appFee: 'None', tuition: 15000, tuitionLocal: '‚Ç¨12,000', scholarships: 'Aalto Scholarship (50% or 100% tuition waiver).', onCampusHousing: 'Available via AYY/HOAS, but competitive.', offCampusHousing: '‚Ç¨400 - ‚Ç¨700/month. Challenging.', livingExpenses: '‚Ç¨800 - ‚Ç¨1,200/month.', visa: '2-year post-study work visa.', careerProspects: 'Excellent in Nordic tech/gaming scene.', employability: 'Very high.', alumni: ['Founders of many Finnish tech startups.'], intlStudents: '25%', culture: 'Innovative, entrepreneurial, strong design focus.', weather: 'Humid continental.', reputation: 'Top Nordic university for tech and design.', pros: ['Excellent reputation in tech/gaming', 'No application fee', 'Generous scholarships', '2-year post-study visa'], cons: ['Highly competitive admissions', 'Cold, dark winters', 'Housing can be difficult'], reviews: 'Praised for its interdisciplinary approach and startup culture.', rating: 8.8 },
                    { id: 'tcd-cs', name: 'Trinity College Dublin', country: 'Ireland', qsRank: 87, location: 'Dublin, Ireland', website: 'https://www.tcd.ie/courses/undergraduate/az/course.php?id=UBCSC-CSCI-1F09', type: 'Public Research University', appDeadlines: '1 Feb 2025 (via CAO)', appOpening: 'Nov 2024', duration: '4-5 Years', degree: 'BSc (Honours) in Computer Science', structure: '4-year BSc or 5-year integrated Masters.', specializations: ['AI', 'Computer Graphics', 'Networks', 'Software Engineering'], research: 'Final year research project.', internships: 'Optional 3-6 month internship.', partners: ['Google', 'Microsoft', 'Amazon', 'Intel'], admissionReq: 'CBSE/ISC: 90%+. Maths prerequisite.', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'LORs', 'SOP'], appFee: '‚Ç¨55', tuition: 29500, tuitionLocal: '‚Ç¨29,500', scholarships: 'Global Excellence Scholarship (‚Ç¨1,000 - ‚Ç¨5,000 reduction).', onCampusHousing: 'Extremely limited, not guaranteed.', offCampusHousing: '‚Ç¨700 - ‚Ç¨1,200/month. Severe housing crisis.', livingExpenses: '‚Ç¨1,200 - ‚Ç¨1,800/month.', visa: '1-2 year post-study work visa.', careerProspects: 'Excellent access to EU HQs of major tech firms.', employability: '#1 in Ireland for graduate employability.', alumni: ['N/A'], intlStudents: '28%', culture: 'Historic, prestigious, vibrant city-center campus.', weather: 'Temperate maritime.', reputation: 'Ireland\'s top university.', pros: ['Top-ranked Irish university', 'Prime location in "Silicon Docks"', 'Strong industry connections'], cons: ['Severe housing crisis', 'Very high cost of living', 'Limited on-campus housing'], reviews: 'Highly positive about academics and social life, but with strong warnings about housing.', rating: 8.5 },
                    { id: 'auckland-cs', name: 'University of Auckland', country: 'New Zealand', qsRank: 65, location: 'Auckland, New Zealand', website: 'https://www.auckland.ac.nz/en/study/study-options/find-a-study-option/bachelor-of-engineering-honours-in-computer-systems-engineering.html', type: 'Public Research University', appDeadlines: 'Varies', appOpening: 'Open', duration: '4 Years', degree: 'BEng (Honours) in Computer Systems Engineering', structure: '4-year accredited professional engineering degree.', specializations: ['Computer hardware and software systems', 'embedded systems', 'robotics'], research: 'Required Honours research project.', internships: "800 hours of practical work experience required.", partners: ['Fisher & Paykel', 'Datacom', 'Microsoft NZ', 'Rocket Lab'], admissionReq: 'CBSE/ISC: 75%+. Maths & Physics required.', englishTests: 'IELTS: 6.0, TOEFL iBT: 80', docs: ['Transcripts', 'Passport'], appFee: 'None', tuition: 29000, tuitionLocal: 'NZD $48,000', scholarships: 'International Student Excellence Scholarship (up to NZD $10,000).', onCampusHousing: 'Guaranteed for first years.', offCampusHousing: 'NZD 250 - 450/week.', livingExpenses: 'NZD $1,500 - $2,000/month.', visa: '3-year post-study work visa.', careerProspects: 'Good prospects in NZ\'s growing tech/hardware sectors.', employability: 'Top-ranked in NZ for employability.', alumni: ['N/A'], intlStudents: '29%', culture: 'Largest university in NZ, diverse and multicultural.', weather: 'Subtropical.', reputation: '#1 university in New Zealand.', pros: ['#1 in New Zealand', 'Generous 3-year post-study visa', 'No application fee'], cons: ['High tuition and living costs', 'Geographically isolated', 'Smaller tech market'], reviews: 'Positive about education quality and lifestyle in Auckland.', rating: 8.3 }
                ]
            },
            'Humanities': {
                universities: [
                    { id: 'harvard-h', name: 'Harvard University', country: 'USA', qsRank: 4, location: 'Cambridge, MA, USA', website: 'https://college.harvard.edu/', type: 'Private Research University (Ivy League)', appDeadlines: 'Jan 1 (Regular)', appOpening: 'Aug 1', duration: '4 Years', degree: 'A.B. (Bachelor of Arts)', structure: 'Liberal arts and sciences curriculum with a major (concentration) chosen in the second year. General education requirements ensure breadth.', specializations: ['Economics', 'Government', 'History', 'Social Studies', 'English'], research: 'Faculty Aide Program, HCRP grants, and senior thesis provide ample research opportunities.', internships: "The Office of Career Services (OCS) provides extensive resources and funding for internships.", partners: ['Extensive network in government, NGOs, finance, and academia worldwide.'], admissionReq: 'Holistic review; exceptional academics, extracurricular depth, and character are paramount. SAT/ACT optional.', englishTests: 'No minimum score required, but proficiency is expected.', docs: ['Common App', 'Harvard Questions', '2 Teacher LORs', 'School Reports'], appFee: '$85', tuition: 59000, tuitionLocal: '$59,076', scholarships: 'Need-blind admission. Full demonstrated need met with grants. Families earning <$85k pay nothing.', onCampusHousing: 'Required for first year, guaranteed for all four. Approx. $21,000/year for room, board, fees.', offCampusHousing: 'Rare for undergraduates.', livingExpenses: '$22,000 - $26,000/year (including housing).', visa: 'F-1 visa, with access to OPT.', careerProspects: 'Unparalleled access to top-tier careers in law, government, consulting, finance, and academia.', employability: '#1 in the world (QS).', alumni: ['8 U.S. Presidents (including Barack Obama)', 'Mark Zuckerberg'], intlStudents: '13%', culture: 'Intellectually intense, steeped in tradition, and incredibly diverse with students from all backgrounds.', weather: 'Four distinct seasons, cold winters, warm summers.', reputation: 'Arguably the most prestigious university in the world.', pros: ['Unmatched global prestige', 'Extremely generous financial aid', 'Incredible alumni network'], cons: ['Extremely selective', 'High-pressure environment', 'Can feel traditional and elitist'], reviews: 'Students speak of transformative intellectual experiences and unparalleled opportunities.', rating: 10.0 },
                    { id: 'yale-h', name: 'Yale University', country: 'USA', qsRank: 10, location: 'New Haven, CT, USA', website: 'https://www.yale.edu/', type: 'Private Research University (Ivy League)', appDeadlines: 'Jan 2 (Regular)', appOpening: 'Aug 1', duration: '4 Years', degree: 'B.A. (Bachelor of Arts)', structure: 'Liberal arts focus with a residential college system that fosters community. Students fulfill distributional requirements.', specializations: ['Economics', 'Political Science', 'Ethics, Politics & Economics (EP&E)', 'History'], research: 'Various fellowships and programs support undergraduate research, culminating in an optional senior essay.', internships: 'Yale funding available for domestic and international internships, both paid and unpaid.', partners: ['Strong ties to public service, law, and arts institutions.'], admissionReq: 'Holistic review process. SAT/ACT scores are required (Test-Flexible policy).', englishTests: 'IELTS: 7.0, TOEFL iBT: 100', docs: ['Common App', 'Yale-specific Questions', '2 Teacher LORs, 1 Counselor LOR'], appFee: '$85', tuition: 67220, tuitionLocal: '$67,220', scholarships: 'Need-blind admission. Full demonstrated need met without loans.', onCampusHousing: 'Residential college system for all four years is a key feature. Approx. $19,000/year room & board.', offCampusHousing: 'Not common for undergraduates.', livingExpenses: '$23,000 - $27,000/year (including housing).', visa: 'F-1 visa, OPT.', careerProspects: 'Graduates are highly successful in academia, government, law, and the arts.', employability: 'Top 15 globally.', alumni: ['5 U.S. Presidents (including Bill Clinton)', 'Meryl Streep'], intlStudents: '12%', culture: 'Collaborative, intellectual, and community-focused due to the residential college system.', weather: 'Four seasons, similar to Boston/NYC.', reputation: 'A premier institution, especially renowned for its humanities and arts programs.', pros: ['Unique residential college system', 'Outstanding humanities and arts programs', 'Generous need-based financial aid'], cons: ['Extremely selective', 'New Haven location is less vibrant than other major cities', 'Intense academic rigor'], reviews: 'Students highlight the strong sense of community and the intellectual vibrancy of the campus.', rating: 9.8 },
                    { id: 'princeton-h', name: 'Princeton University', country: 'USA', qsRank: 12, location: 'Princeton, NJ, USA', website: 'https://www.princeton.edu/', type: 'Private Research University (Ivy League)', appDeadlines: 'Jan 1 (Regular)', appOpening: 'Aug 1', duration: '4 Years', degree: 'A.B. (Bachelor of Arts)', structure: 'Focus on undergraduate education is a defining feature. Requires independent research for all students (Junior Projects, Senior Thesis).', specializations: ['Economics', 'Public and International Affairs', 'History', 'Politics'], research: 'Senior thesis is a mandatory, cornerstone experience for all A.B. students.', internships: 'Many funded internship programs available through various university centers.', partners: ['Brookings Institution', 'US Government departments', 'Major think tanks.'], admissionReq: 'Holistic review. SAT/ACT optional. Graded written paper required.', englishTests: 'Proficiency expected.', docs: ['Common App', 'Princeton Supplement', 'Graded Written Paper', 'LORs'], appFee: '$75', tuition: 61140, tuitionLocal: '$61,140', scholarships: 'Need-blind admission. One of the most generous financial aid programs, meeting full need without loans.', onCampusHousing: 'Residential colleges for first two years, guaranteed housing for all four. Approx. $17,000/year room & board.', offCampusHousing: 'Not typical.', livingExpenses: '$20,000 - $25,000/year (including housing).', visa: 'F-1 visa, OPT.', careerProspects: 'Strong placement in academia, public service, and finance.', employability: 'Top 20 globally.', alumni: ['Michelle Obama', 'Jeff Bezos', 'F. Scott Fitzgerald'], intlStudents: '12%', culture: 'Strong focus on undergraduates, research-oriented, and a close-knit campus feel.', weather: 'Four seasons.', reputation: '#1 National University in the US (U.S. News) for many years.', pros: ['Unparalleled focus on undergraduates', 'Mandatory senior thesis research', 'Extremely generous "no-loan" financial aid'], cons: ['Extremely selective', 'Suburban "bubble" location', 'Can feel traditional'], reviews: 'Praised for the close faculty-student interaction and the emphasis on original research.', rating: 9.9 },
                    { id: 'uchicago-h', name: 'University of Chicago', country: 'USA', qsRank: 11, location: 'Chicago, IL, USA', website: 'https://college.uchicago.edu/', type: 'Private Research University', appDeadlines: 'Jan 2 (Regular)', appOpening: 'Aug 1', duration: '4 Years', degree: 'B.A. (Bachelor of Arts)', structure: 'Famous for its rigorous Core Curriculum, which emphasizes critical thinking and Socratic seminars. Majors are chosen later.', specializations: ['Economics', 'Political Science', 'Public Policy', 'Global Studies'], research: 'Abundant research opportunities with world-renowned faculty.', internships: 'UChicago Careers In programs provide specialized advising and funded internships.', partners: ['Argonne National Laboratory', 'Fermilab', 'Chicago financial institutions'], admissionReq: 'Holistic review. Famous for quirky, creative essay prompts. Test-optional policy.', englishTests: 'IELTS: 7.0, TOEFL iBT: 100', docs: ['Common App', 'UChicago Supplement', 'LORs'], appFee: '$75', tuition: 67000, tuitionLocal: '$67,080', scholarships: 'Need-aware for internationals, but meets 100% of demonstrated need for admitted students.', onCampusHousing: 'Guaranteed for four years through a House system. Approx. $19,000/year.', offCampusHousing: 'Available in Hyde Park.', livingExpenses: '$22,000 - $26,000/year (including housing).', visa: 'F-1 visa, OPT.', careerProspects: 'Graduates known for analytical rigor, excelling in academia, finance, and consulting.', employability: 'Very high.', alumni: ['100+ Nobel laureates (affiliated)', 'Bernie Sanders'], intlStudents: '17%', culture: 'Intensely intellectual, quirky, and academic. "Where fun comes to die" is the tongue-in-cheek motto.', weather: 'Cold, windy winters; hot summers.', reputation: 'A global powerhouse for economics and the social sciences, known for intellectual rigor.', pros: ['The rigorous "Core Curriculum"', 'Intensely intellectual and academic culture', 'Located in a major global city'], cons: ['Extremely demanding workload', 'Need-aware for international students', 'Reputation for being overly academic'], reviews: 'Students are drawn to its unique intellectual environment and the challenge of the Core.', rating: 9.7 },
                    { id: 'sciencespo-h', name: 'Sciences Po', country: 'France', qsRank: 39, location: 'Paris, France', website: 'https://www.sciencespo.fr/en/undergraduate/', type: 'Public Research University', appDeadlines: 'Varies by region, typically Jan-Apr', appOpening: 'Late Oct', duration: '3 Years', degree: 'BA in Social Sciences & Humanities', structure: 'Multidisciplinary curriculum with a regional specialization and a mandatory year abroad.', specializations: ['Politics & Government', 'Economics & Society', 'Political Humanities'], research: "Grand √âcrit (final dissertation).", internships: "Encouraged during the third year abroad.", partners: ['Columbia University', 'LSE', 'UC Berkeley'], admissionReq: 'High school diploma with excellent grades. Holistic review.', englishTests: 'IELTS: 7.0, TOEFL iBT: 100', docs: ['Transcripts', 'Personal Statement', 'LORs'], appFee: '‚Ç¨150', tuition: 18000, tuitionLocal: '‚Ç¨13,190 (non-EU)', scholarships: 'Emile Boutmy Scholarship for non-EU students.', onCampusHousing: 'Not guaranteed, assistance provided.', offCampusHousing: '‚Ç¨800 - ‚Ç¨1500/month in Paris.', livingExpenses: '‚Ç¨1,200 - ‚Ç¨1,800/month.', visa: 'VLS-TS visa required.', careerProspects: 'Strong pathways to international organizations, diplomacy, and consulting.', employability: 'Very high, #1 in France for Politics & IR.', alumni: ['Emmanuel Macron', 'Justin Trudeau'], intlStudents: '50%', culture: 'Highly international, politically engaged, and intellectually rigorous.', weather: 'Oceanic.', reputation: 'World-renowned for political science and international relations.', pros: ['Global elite reputation in social sciences', 'Mandatory year abroad', 'Strong alumni network'], cons: ['Extremely competitive', 'High cost of living in Paris', 'Housing is difficult'], reviews: 'Students praise the international environment and intellectual stimulation.', rating: 9.6 },
                    { id: 'bocconi-h', name: 'Bocconi University', country: 'Italy', qsRank: 154, location: 'Milan, Italy', website: 'https://www.unibocconi.eu/undergraduate', type: 'Private University', appDeadlines: 'Varies by round (3 rounds, Nov-Apr)', appOpening: 'July', duration: '3 Years', degree: 'BSc in International Politics and Government', structure: 'Focus on political science, international relations, and public policy with a quantitative approach.', specializations: ['International Relations', 'Public Policy'], research: "Final thesis required.", internships: "Mandatory internship.", partners: ['Major international companies and organizations.'], admissionReq: 'High school diploma, SAT/ACT or Bocconi Test.', englishTests: 'IELTS: 6.0, TOEFL iBT: 88', docs: ['Transcripts', 'CV', 'Motivation Letter'], appFee: '‚Ç¨100', tuition: 16000, tuitionLocal: '‚Ç¨14,073', scholarships: 'Bocconi International Award (50% tuition waiver).', onCampusHousing: 'Available, but competitive.', offCampusHousing: '‚Ç¨600 - ‚Ç¨1200/month in Milan.', livingExpenses: '‚Ç¨1,000 - ‚Ç¨1,500/month.', visa: 'Type D National Visa.', careerProspects: 'Excellent placement in finance, consulting, and international institutions.', employability: 'Top-ranked in Italy for Economics & Social Sciences.', alumni: ['Mario Monti (Former PM of Italy)'], intlStudents: '25%', culture: 'Competitive, professional, and international environment in a fashion capital.', weather: 'Humid subtropical.', reputation: 'One of Europe\'s leading universities for economics and business.', pros: ['Elite reputation in Europe', 'Strong career placement', 'Vibrant city'], cons: ['High tuition for Italy', 'Competitive environment', 'Housing can be expensive'], reviews: 'Praised for career opportunities and quality of teaching.', rating: 9.4 },
                    { id: 'nus-fass-h', name: 'National University of Singapore (FASS)', country: 'Singapore', qsRank: 8, location: 'Singapore', website: 'https://fass.nus.edu.sg/prospective-students/', type: 'Public Research University', appDeadlines: 'Feb-Mar', appOpening: 'Nov', duration: '4 Years', degree: 'Bachelor of Social Sciences (e.g., Economics, PPE)', structure: 'Modular credit system. Students can major in Economics or the Philosophy, Politics, and Economics (PPE) program.', specializations: ['Economics', 'Political Science', 'Philosophy'], research: "Honours Thesis option.", internships: "Strongly encouraged through FASS internship programs.", partners: ['Global university partners for exchange programs.'], admissionReq: 'CBSE/ISC: >95% recommended. Strong grades in relevant subjects.', englishTests: 'IELTS: 6.5, TOEFL iBT: 92-93', docs: ['Transcripts', 'Passport', 'Personal Statement'], appFee: 'SGD 20', tuition: 14800, tuitionLocal: 'SGD 17,550 (non-subsidized)', scholarships: 'ASEAN Undergraduate Scholarship.', onCampusHousing: 'Guaranteed for 2 years.', offCampusHousing: 'SGD 700 - 1,400/month.', livingExpenses: 'SGD 1,000 - 2,500/month.', visa: '1-year LTVP to find work.', careerProspects: 'Excellent pathways into civil service, finance, and academia.', employability: '9th in the world (GEURS 2025).', alumni: ['Many Singaporean ministers and public figures.'], intlStudents: '26%', culture: 'Vibrant, international, highly competitive.', weather: 'Tropical.', reputation: 'Asia\'s top university with world-class faculty.', pros: ['#1 in Asia', 'Globally recognized degree', 'Strong research focus'], cons: ['Extremely competitive admissions', 'High-pressure environment', 'High cost of living'], reviews: 'Known for its academic rigor and diverse student body.', rating: 9.5 },
                    { id: 'anu-cass-h', name: 'Australian National University (CASS)', country: 'Australia', qsRank: 34, location: 'Canberra, Australia', website: 'https://cass.anu.edu.au/', type: 'Public Research University (Go8)', appDeadlines: 'Varies by round', appOpening: 'Open', duration: '3 Years', degree: 'Bachelor of Politics, Philosophy and Economics (PPE)', structure: 'Interdisciplinary program combining three fields. Flexible structure to specialize.', specializations: ['PPE', 'International Relations', 'Economics'], research: "Honours pathway available.", internships: "ANU Global Programs offers international internship opportunities.", partners: ['Government departments, think tanks.'], admissionReq: 'ATAR 96 equivalent (high CBSE/ISC).', englishTests: 'IELTS: 6.5, TOEFL iBT: 80', docs: ['Transcripts', 'English test', 'Passport'], appFee: 'AUD $110', tuition: 33000, tuitionLocal: 'AUD $48,030', scholarships: 'ANU Chancellor‚Äôs Int\'l Scholarship (25% or 50% waiver).', onCampusHousing: 'Guaranteed for 1st year.', offCampusHousing: 'Competitive rental market.', livingExpenses: 'AUD $1,600 - $2,400/month.', visa: '2-year visa.', careerProspects: 'Strong pathways to public service, policy analysis, and diplomacy.', employability: '#1 most employable in Australia (THE 2023-24).', alumni: ['Many Australian Prime Ministers.'], intlStudents: '38%', culture: 'Research-focused, intellectual, politically aware.', weather: 'Dry, continental.', reputation: 'Australia\'s top-ranked university, especially for politics.', pros: ['#1 in Australia for Politics & IR', 'Strong government connections', 'Guaranteed accommodation'], cons: ['High tuition', 'Quieter city life than Sydney/Melbourne'], reviews: 'Praised for its close-knit academic community and research opportunities.', rating: 9.3 },
                    { id: 'uva-ppe-h', name: 'University of Amsterdam (PPE)', country: 'Netherlands', qsRank: 53, location: 'Amsterdam, Netherlands', website: 'https://www.uva.nl/en/programmes/bachelors/politics-psychology-law-and-economics/', type: 'Public Research University', appDeadlines: '1 Feb (Selective)', appOpening: '1 Oct', duration: '3 Years', degree: 'BSc in Politics, Psychology, Law and Economics (PPLE)', structure: 'Selective, small-scale interdisciplinary program with a cohort of ~200 students.', specializations: ['Politics', 'Psychology', 'Law', 'Economics'], research: "Final thesis required.", internships: "Encouraged, but not mandatory.", partners: ['Various international exchange partners.'], admissionReq: 'High school diploma with strong grades, motivation letter, interview.', englishTests: 'IELTS: 7.0, TOEFL iBT: 100', docs: ['Transcripts', 'CV', 'Motivation Letter'], appFee: '‚Ç¨100', tuition: 15500, tuitionLocal: '‚Ç¨4,400 (statutory fee for EU) / ‚Ç¨15,500 (non-EU)', scholarships: 'Amsterdam Merit Scholarship.', onCampusHousing: 'Not guaranteed, assistance provided.', offCampusHousing: '‚Ç¨500 - ‚Ç¨900/month. Extremely difficult.', livingExpenses: '‚Ç¨1,000 - ‚Ç¨1,600/month.', visa: '1-year orientation year visa.', careerProspects: 'Graduates pursue careers in public service, NGOs, and the private sector.', employability: 'High, especially in Europe.', alumni: ['N/A'], intlStudents: '50%+', culture: 'Liberal, international, and discussion-based learning.', weather: 'Temperate maritime.', reputation: 'Highly-ranked and selective PPE program in Europe.', pros: ['Prestigious PPE program', 'Vibrant city life', 'Relatively affordable for EU students'], cons: ['Severe housing crisis in Amsterdam', 'Highly selective admissions', 'High cost of living'], reviews: 'Students love the small-scale, international, and challenging environment.', rating: 9.2 },
                    { id: 'tcd-hss-h', name: 'Trinity College Dublin (HSS)', country: 'Ireland', qsRank: 81, location: 'Dublin, Ireland', website: 'https://www.tcd.ie/courses/undergraduate/az/course.php?id=DUBAH-PPEC-1F09', type: 'Public Research University', appDeadlines: '1 Feb (via CAO)', appOpening: 'Nov', duration: '4 Years', degree: 'BA (Mod) in Philosophy, Political Science, Economics and Sociology', structure: 'Flexible program allowing students to specialize in one or two subjects after a common first year.', specializations: ['Economics', 'Political Science', 'Philosophy', 'Sociology'], research: "Final year dissertation.", internships: "Optional summer internships.", partners: ['Major tech and finance companies in Dublin.'], admissionReq: 'CBSE/ISC: 90%+. Subject prerequisites apply.', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'LORs', 'SOP'], appFee: '‚Ç¨55', tuition: 21000, tuitionLocal: '‚Ç¨20,618', scholarships: 'Global Excellence Scholarship (‚Ç¨1,000 - ‚Ç¨5,000 reduction).', onCampusHousing: 'Extremely limited and not guaranteed.', offCampusHousing: '‚Ç¨700 - ‚Ç¨1,200/month. Severe housing crisis.', livingExpenses: '‚Ç¨1,200 - ‚Ç¨1,800/month.', visa: '1-2 year post-study work visa.', careerProspects: 'Excellent access to EU headquarters of major tech and finance firms.', employability: '#1 in Ireland for graduate employability.', alumni: ['Oscar Wilde', 'Samuel Beckett'], intlStudents: '28%', culture: 'Historic, prestigious, vibrant city-center campus.', weather: 'Temperate maritime.', reputation: 'Ireland\'s top university, globally recognized.', pros: ['Top-ranked Irish university', 'Flexible degree structure', 'Strong industry connections'], cons: ['Severe housing crisis in Dublin', 'Very high cost of living', 'Limited on-campus housing'], reviews: 'Highly positive about academics and social life, but with strong warnings about the housing situation.', rating: 9.0 },
                    { id: 'kcl-ppe-h', name: 'King\'s College London', country: 'UK', qsRank: 40, location: 'London, UK', website: 'https://www.kcl.ac.uk/study/undergraduate/courses/philosophy-politics-economics-ba', type: 'Public Research University', appDeadlines: '31 Jan (via UCAS)', appOpening: 'Sep', duration: '3 Years', degree: 'BA in Philosophy, Politics & Economics (PPE)', structure: 'Highly flexible and interdisciplinary program allowing students to choose modules from three of the UK\'s leading departments.', specializations: ['Philosophy', 'Politics', 'Economics'], research: "Dissertation option in final year.", internships: "King's Careers & Employability service supports students in finding internships.", partners: ['Located in the heart of London, close to political, financial, and cultural institutions.'], admissionReq: 'A-levels: A*AA. IB: 35 points. High scores in CBSE/ISC required.', englishTests: 'IELTS: 7.0, TOEFL iBT: 100', docs: ['UCAS application', 'Personal Statement', 'LORs'], appFee: '¬£28.50 (UCAS)', tuition: 33456, tuitionLocal: '¬£27,540', scholarships: 'King\'s International Scholarship (merit-based).', onCampusHousing: 'Guaranteed for first-year students (if conditions met).', offCampusHousing: '¬£800 - ¬£1,500/month. Very expensive.', livingExpenses: '¬£1,500 - ¬£2,500/month.', visa: 'Student visa, with Graduate Route visa allowing 2 years of post-study work.', careerProspects: 'Exceptional pathways into finance, law, civil service, and journalism.', employability: 'Top 10 in the UK for graduate employability.', alumni: ['Desmond Tutu', 'Virginia Woolf'], intlStudents: '40%', culture: 'Cosmopolitan, ambitious, and intellectually vibrant, located in central London.', weather: 'Temperate oceanic.', reputation: 'A world-leading university with a prestigious reputation in the humanities and social sciences.', pros: ['World top 40 university', 'Prestigious PPE program in London', 'Excellent career prospects'], cons: ['Extremely high tuition fees', 'Very high cost of living', 'Highly competitive admissions'], reviews: 'Students praise the central London location, diverse student body, and academic excellence.', rating: 9.4 }
                ]
            },
            'Engineering': {
                universities: [
                    { id: 'mit-eng', name: 'Massachusetts Institute of Technology', country: 'USA', qsRank: 1, location: 'Cambridge, MA, USA', website: 'https://meche.mit.edu/', type: 'Private Research University', appDeadlines: 'Jan 4 (Regular)', appOpening: 'Mid-Aug', duration: '4 Years', degree: 'BS in Mechanical Engineering (Course 2)', structure: 'Rigorous core curriculum in science and math, followed by specialized engineering coursework with a strong emphasis on hands-on projects and design.', specializations: ['Robotics', 'Aerospace', 'Energy Systems', 'Biomechanics'], research: "UROP is a defining feature, allowing undergraduates to work directly with faculty on cutting-edge research.", internships: "Strongly encouraged, with unparalleled access to top engineering firms through career services.", partners: ['NASA', 'Boeing', 'Tesla', 'Boston Dynamics', 'GE'], admissionReq: 'Holistic review; exceptional academics, test scores, and demonstrated passion for building things are key.', englishTests: 'IELTS: 7.5, TOEFL iBT: 100', docs: ['Common App/MyMIT App', 'Essays', '2 Teacher LORs'], appFee: '$75', tuition: 61990, tuitionLocal: '$61,990', scholarships: 'Need-blind admission. Full demonstrated need met with grants.', onCampusHousing: 'Guaranteed for first year. Approx. $13,000/year.', offCampusHousing: '$1,200 - $2,000/month per person.', livingExpenses: '$20,000 - $25,000/year.', visa: 'F-1 visa, with access to OPT/STEM OPT.', careerProspects: 'Graduates are the most sought-after engineers in the world, with record-high starting salaries.', employability: '#1 in the world.', alumni: ['William Hewlett (HP)', 'Kofi Annan'], intlStudents: '11%', culture: 'Intense, collaborative "mens et manus" (mind and hand) philosophy. A haven for builders and problem-solvers.', weather: 'Four distinct seasons, cold winters, warm summers.', reputation: 'The global benchmark for engineering education and research.', pros: ['#1 Engineering school in the world', 'Hands-on "maker" culture', 'Incredible research opportunities'], cons: ['Extremely high academic pressure', 'Very high cost (though aid is excellent)', 'Insanely competitive admissions'], reviews: 'Universally regarded as the pinnacle of engineering education, offering a uniquely challenging and rewarding experience.', rating: 10.0 },
                    { id: 'stanford-eng', name: 'Stanford University', country: 'USA', qsRank: 2, location: 'Stanford, CA, USA', website: 'https://engineering.stanford.edu/', type: 'Private Research University', appDeadlines: 'Jan 5 (Regular)', appOpening: 'Aug 1', duration: '4 Years', degree: 'B.S. in Engineering (e.g., Mechanical, BioE)', structure: 'Flexible and interdisciplinary approach, allowing students to combine interests. Strong emphasis on design thinking.', specializations: ['Aeronautics & Astronautics', 'Bioengineering', 'Materials Science', 'Environmental Engineering'], research: 'Undergraduate research is very common and accessible through various departmental programs.', internships: "Proximity to Silicon Valley provides unmatched internship opportunities in both hardware and software.", partners: ['Apple', 'Lockheed Martin', 'Genentech', 'Countless startups'], admissionReq: 'Holistic review; looking for academic excellence combined with creativity and a collaborative spirit. SAT/ACT optional.', englishTests: 'Not required if language of instruction was English.', docs: ['Common App', 'Stanford Questions', 'LORs'], appFee: '$90', tuition: 61730, tuitionLocal: '$61,731', scholarships: 'Need-blind admission. Full demonstrated need met with grants.', onCampusHousing: 'Guaranteed for all 4 years. Approx. $19,000/year room & board.', offCampusHousing: 'Very expensive.', livingExpenses: '$22,000 - $28,000/year.', visa: 'F-1 visa, OPT/STEM OPT.', careerProspects: 'Graduates are leaders in technological innovation, founding startups or joining established giants.', employability: '#2 in the world.', alumni: ['Elon Musk (attended)', 'Reid Hoffman (LinkedIn)'], intlStudents: '10%', culture: 'Entrepreneurial, innovative, and interdisciplinary, with a beautiful campus and great weather.', weather: 'Mediterranean, mostly sunny.', reputation: 'An elite engineering school with a strong focus on creativity and entrepreneurship.', pros: ['Center of the tech and startup world', 'Interdisciplinary and flexible curriculum', 'Fantastic campus and quality of life'], cons: ['Extremely high cost of living', 'Very competitive environment', 'Extremely selective admissions'], reviews: 'Praised for fostering innovation and providing a launchpad into the tech industry.', rating: 9.9 },
                    { id: 'cambridge-eng', name: 'University of Cambridge', country: 'UK', qsRank: 5, location: 'Cambridge, UK', website: 'https://www.undergraduate.study.cam.ac.uk/courses/engineering', type: 'Public Research University', appDeadlines: 'Oct 15 (via UCAS)', appOpening: 'Sep', duration: '4 Years', degree: 'M.Eng. (Integrated Masters)', structure: 'General engineering for the first two years, followed by specialization. The "Tripos" system is academically intense.', specializations: ['Aerospace', 'Bioengineering', 'Civil', 'Electrical', 'Mechanical'], research: 'Extensive research projects in the final two years.', internships: 'Strongly supported, with many students working in industry over the summer.', partners: ['Rolls-Royce', 'ARM', 'Jaguar Land Rover', 'Airbus'], admissionReq: 'A*A*A in Maths, Physics, and another science/maths subject. Requires Engineering Admissions Assessment (ENGAA). Very high CBSE/ISC scores.', englishTests: 'IELTS: 7.5, TOEFL iBT: 110', docs: ['UCAS application', 'Supplementary Application', 'Interview'], appFee: '¬£28.50 (UCAS)', tuition: 48000, tuitionLocal: '¬£39,162', scholarships: 'Cambridge Trust offers need-based scholarships for international students.', onCampusHousing: 'Guaranteed for 3-4 years through the college system. Costs vary by college.', offCampusHousing: 'Not needed for most undergraduates.', livingExpenses: '¬£12,000 - ¬£15,000/year.', visa: 'Student visa, with Graduate Route visa.', careerProspects: 'Graduates are highly sought after in the UK and European engineering sectors.', employability: 'Top 5 in the world.', alumni: ['Isaac Newton', 'Frank Whittle (jet engine)'], intlStudents: '25%', culture: 'Traditional, academically rigorous, with a unique community feel provided by the collegiate system.', weather: 'Temperate, often cloudy.', reputation: 'One of the oldest and most prestigious engineering programs in the world.', pros: ['World-class reputation and prestige', 'Unique collegiate system', 'Broad and deep engineering foundation'], cons: ['Extremely intense and demanding workload', 'Very early application deadline', 'Highly theoretical approach'], reviews: 'The supervision system (small group teaching) is highlighted as a major academic strength.', rating: 9.8 },
                    { id: 'ethzurich-eng', name: 'ETH Zurich', country: 'Switzerland', qsRank: 7, location: 'Zurich, Switzerland', website: 'https://ethz.ch/en/studies/bachelor.html', type: 'Public Research University', appDeadlines: 'Dec 15', appOpening: 'Nov 1', duration: '3 Years', degree: 'B.Sc. Mechanical/Electrical Engineering', structure: 'Highly theoretical and mathematically rigorous. First-year exams are notoriously difficult. Most BSc programs are taught in German.', specializations: ['Mechanical Eng', 'Electrical Eng & IT', 'Civil Eng'], research: 'Bachelor\'s thesis is a significant research project.', internships: 'Mandatory internship period is integrated into the curriculum.', partners: ['ABB', 'Siemens', 'Roche', 'Novartis', 'Swiss industrial sector'], admissionReq: 'Swiss Matura or equivalent. International students often need to pass a comprehensive entrance exam. C1 German proficiency is essential.', englishTests: 'German C1 (Goethe, TestDaF) is the primary requirement.', docs: ['Application form', 'Transcripts', 'Entrance Exam results'], appFee: 'CHF 150', tuition: 1600, tuitionLocal: 'CHF 1,600/year', scholarships: 'Limited for BSc. Excellence Scholarship & Opportunity Programme (ESOP) is for Masters.', onCampusHousing: 'Very limited.', offCampusHousing: 'CHF 800 - 1500/month. Competitive market.', livingExpenses: 'CHF 2,000 - 2,500/month (very high).', visa: 'Type D Visa.', careerProspects: 'Graduates are highly respected in European industry for their strong theoretical background.', employability: 'Top 10 globally.', alumni: ['Albert Einstein', 'John von Neumann'], intlStudents: '40%', culture: 'Extremely rigorous, research-focused, and international at the graduate level.', weather: 'Temperate, four seasons.', reputation: 'The top technical university in continental Europe.', pros: ['World-class technical education', 'Extremely low tuition fees', 'Strong ties to European industry'], cons: ['German language is a must for BSc', 'Very high cost of living in Zurich', 'Brutally difficult examination system'], reviews: 'Known for its extreme difficulty but unparalleled quality of education.', rating: 9.7 },
                    { id: 'icl-eng', name: 'Imperial College London', country: 'UK', qsRank: 6, location: 'London, UK', website: 'https://www.imperial.ac.uk/engineering/', type: 'Public Research University', appDeadlines: 'Jan 31 (via UCAS)', appOpening: 'Sep', duration: '4 Years', degree: 'MEng (Integrated Masters)', structure: 'Solely focused on science, engineering, medicine, and business. Deeply technical and research-driven curriculum.', specializations: ['Aeronautics', 'Bioengineering', 'Chemical Eng', 'Mechanical Eng'], research: 'Research projects are integral, especially in the final year of the MEng.', internships: "Extensive industrial liaison units in each department facilitate placements.", partners: ['McLaren F1', 'Dyson', 'Airbus', 'Major energy companies'], admissionReq: 'A*A*A, with A* in Maths and Physics. Requires tests like the BMAT/UCAT for some courses.', englishTests: 'IELTS: 6.5-7.0, TOEFL iBT: 92-100', docs: ['UCAS application', 'Personal Statement', 'LOR'], appFee: '¬£28.50 (UCAS)', tuition: 40000, tuitionLocal: '¬£37,900', scholarships: 'President\'s Undergraduate Scholarships.', onCampusHousing: 'Guaranteed for first years. Can be expensive.', offCampusHousing: 'Very expensive London market.', livingExpenses: '¬£1,500 - ¬£2,500/month.', visa: 'Student visa, Graduate Route visa.', careerProspects: 'Top-tier engineering jobs in the UK and globally, especially in tech and finance.', employability: 'Top 10 globally.', alumni: ['Alexander Fleming', 'H.G. Wells'], intlStudents: '60%+', culture: 'Highly international, research-intensive, and located in the heart of London.', weather: 'Temperate oceanic.', reputation: 'A world top 10 university, often called the "MIT of the UK".', pros: ['World Top 10 university', 'Prime London location', 'Intense research focus'], cons: ['Extremely high tuition and living costs', 'Highly competitive admissions', 'Intense workload'], reviews: 'Students emphasize the challenging environment and the benefits of its London location.', rating: 9.7 },
                    { id: 'epfl-eng', name: 'EPFL', country: 'Switzerland', qsRank: 26, location: 'Lausanne, Switzerland', website: 'https://www.epfl.ch/education/bachelor/', type: 'Public Research University', appDeadlines: 'Apr 30', appOpening: 'Jan', duration: '3 Years', degree: 'BSc in Engineering', structure: 'Similar to ETH Zurich, with a highly challenging first-year exam. Taught primarily in French.', specializations: ['Mechanical Eng', 'Microengineering', 'Materials Science', 'Electrical Eng'], research: 'Hands-on projects and research are integrated throughout the curriculum.', internships: 'Mandatory 8-week internship.', partners: ['Logitech', 'Nestl√©', 'Rolex', 'CERN'], admissionReq: 'Swiss Matura or equivalent. Entrance exam may be required for some international applicants. B2 French proficiency needed.', englishTests: 'French proficiency is the key requirement.', docs: ['Application', 'Transcripts'], appFee: 'CHF 150', tuition: 1600, tuitionLocal: 'CHF 1,680/year', scholarships: 'Limited for bachelor students.', onCampusHousing: 'Available but competitive.', offCampusHousing: 'CHF 700 - 1200/month.', livingExpenses: 'CHF 1,800 - 2,400/month.', visa: 'Type D Visa.', careerProspects: 'Excellent in high-tech industries, particularly in Switzerland and France.', employability: 'Very high.', alumni: ['N/A'], intlStudents: '50%+', culture: 'Modern, dynamic, and highly international campus with a strong focus on innovation and startups.', weather: 'Temperate, scenic location on Lake Geneva.', reputation: 'One of the world\'s fastest-rising technical universities.', pros: ['World-class research and facilities', 'Very low tuition fees', 'Beautiful and vibrant campus'], cons: ['French language is a must for BSc', 'High cost of living', 'Challenging first-year curriculum'], reviews: 'Praised for its innovative environment and beautiful location.', rating: 9.5 },
                    { id: 'utoronto-eng', name: 'University of Toronto', country: 'Canada', qsRank: 21, location: 'Toronto, ON, Canada', website: 'https://discover.engineering.utoronto.ca/', type: 'Public Research University', appDeadlines: 'Jan 12', appOpening: 'Oct', duration: '4 Years', degree: 'Bachelor of Applied Science (B.A.Sc.)', structure: 'Choice between a general first year (Engineering Science) or direct entry into a core discipline. Rigorous and comprehensive.', specializations: ['Mechanical', 'Industrial', 'Chemical', 'Civil', 'Computer', 'Engineering Science'], research: 'Summer research opportunities and design projects are common.', internships: 'Optional Professional Experience Year (PEY) Co-op offers a 12-16 month paid internship.', partners: ['AMD', 'Bombardier', 'Hydro One', 'IBM', 'Shopify'], admissionReq: 'High school diploma with Calculus, Physics, Chemistry. Competitive admission profile required.', englishTests: 'IELTS: 6.5, TOEFL iBT: 100', docs: ['OUAC Application', 'Personal Profile'], appFee: 'CAD $180', tuition: 50000, tuitionLocal: 'CAD $68,580', scholarships: 'Lester B. Pearson Scholarship (full ride), International Scholar Award.', onCampusHousing: 'Guaranteed for first year. Approx. CAD $15,000/year.', offCampusHousing: 'CAD $1,000 - $1,800/month.', livingExpenses: 'CAD $1,800 - $2,500/month.', visa: 'Study Permit, with access to PGWP.', careerProspects: 'Top engineering school in Canada with excellent placement in North America.', employability: 'Top 20 globally.', alumni: ['N/A'], intlStudents: '27%', culture: 'Large, diverse, and located in the heart of Canada\'s largest city. Academic and research-focused.', weather: 'Four seasons, cold winters, warm summers.', reputation: 'Canada\'s #1 engineering school.', pros: ['Top-ranked in Canada', 'PEY Co-op program offers extensive work experience', 'Located in a major global city'], cons: ['Very high international tuition fees', 'Large class sizes', 'Highly competitive environment'], reviews: 'The PEY program is often cited as a key advantage for career development.', rating: 9.4 },
                    { id: 'tum-eng', name: 'Technical University of Munich', country: 'Germany', qsRank: 28, location: 'Munich, Germany', website: 'https://www.tum.de/en/studies/degree-programs', type: 'Public Research University', appDeadlines: '15 Jul for winter semester', appOpening: 'May', duration: '3 Years', degree: 'B.Sc. (various engineering fields)', structure: 'Most Bachelor\'s programs are taught primarily in German. Deep theoretical foundation combined with practical application in world-class labs.', specializations: ['Mechanical Engineering', 'Electrical Engineering & IT', 'Civil Engineering', 'Aerospace'], research: 'Strong emphasis on research from Bachelor level with opportunities for student research projects (HiWi).', internships: "Mandatory internships are part of most curricula, often with top German industrial partners.", partners: ['Siemens', 'BMW', 'Airbus', 'Audi', 'Linde'], admissionReq: 'University entrance qualification (e.g., high school diploma). Aptitude assessment process. German language proficiency (TestDaF/DSH) is crucial for most BSc programs.', englishTests: 'Required for specific English-taught programs, not the norm for BSc.', docs: ['Transcripts', 'CV', 'Motivation Letter', 'German Language Certificate'], appFee: 'None', tuition: 6000, tuitionLocal: '‚Ç¨6,000/semester (for non-EU)', scholarships: 'Limited for Bachelor students; various foundation scholarships available (e.g., Deutschlandstipendium).', onCampusHousing: 'Extremely limited and competitive.', offCampusHousing: '‚Ç¨700 - ‚Ç¨1200/month. Very difficult market.', livingExpenses: '‚Ç¨1,000 - ‚Ç¨1,500/month.', visa: 'German National Visa for study.', careerProspects: 'Exceptional in German and European industry, particularly in automotive, manufacturing, and tech.', employability: 'Ranked 13th globally by employers.', alumni: ['17 Nobel laureates, including Rudolf Diesel.'], intlStudents: '34%', culture: 'Highly rigorous, research-driven, and technical.', weather: 'Humid continental.', reputation: 'Germany\'s #1 technical university.', pros: ['World-class engineering education', 'Strong industry connections', 'Relatively low tuition compared to US/UK'], cons: ['German language proficiency is a major barrier for BSc', 'Extremely high cost of living', 'Competitive housing market'], reviews: 'Known for its challenging curriculum and excellent reputation.', rating: 9.6 },
                    { id: 'kth-eng', name: 'KTH Royal Institute of Technology', country: 'Sweden', qsRank: 74, location: 'Stockholm, Sweden', website: 'https://www.kth.se/en/studies/bachelor/information-and-communication-technology-1.8326', type: 'Public University', appDeadlines: '15 Jan', appOpening: 'Mid-Oct', duration: '3 Years', degree: 'BSc in Information and Communication Technology', structure: '180 ECTS program taught entirely in English, focusing on the fundamentals of ICT.', specializations: ['ICT', 'Software Engineering', 'Networks'], research: 'Final year degree project.', internships: "Optional, but encouraged.", partners: ['Ericsson', 'Scania', 'ABB', 'Skype (founded nearby)'], admissionReq: 'High school diploma with specific proficiency in Mathematics and Physics.', englishTests: 'IELTS: 6.5, TOEFL iBT: 90', docs: ['Transcripts', 'Passport', 'English test scores'], appFee: 'SEK 900', tuition: 15100, tuitionLocal: 'SEK 155,000/year', scholarships: 'KTH Scholarship (covers full tuition).', onCampusHousing: 'Not guaranteed, very difficult to find.', offCampusHousing: 'SEK 4,000 - 7,000/month. Extremely competitive.', livingExpenses: 'SEK 9,000 - 12,000/month.', visa: 'Residence permit for studies.', careerProspects: 'Excellent in the Stockholm tech scene and globally.', employability: 'High, with strong ties to Swedish tech giants.', alumni: ['Daniel Ek (Co-founder of Spotify)'], intlStudents: '20%', culture: 'Innovative, collaborative, with a strong startup culture.', weather: 'Humid continental.', reputation: 'Scandinavia\'s leading technical university.', pros: ['English-taught ICT program', 'Strong global reputation', 'Vibrant startup ecosystem'], cons: ['Extreme housing crisis in Stockholm', 'Very high cost of living'], reviews: 'Praised for its international environment and project-based learning.', rating: 9.1 }
                ]
            },
            'Commerce': {
                universities: [
                    { id: 'penn-wharton-com', name: 'UPenn (Wharton)', country: 'USA', qsRank: 9, location: 'Philadelphia, PA, USA', website: 'https://undergrad.wharton.upenn.edu/', type: 'Private Research University (Ivy League)', appDeadlines: 'Jan 5 (Regular)', appOpening: 'Aug 1', duration: '4 Years', degree: 'B.S. in Economics', structure: 'Combines a business education with a liberal arts core. Students choose from over 20 concentrations in business.', specializations: ['Finance', 'Marketing', 'Management', 'Business Analytics', 'Real Estate'], research: 'Wharton Research Scholars program and various faculty-led projects.', internships: 'A core part of the culture. On-campus recruiting (OCR) is extremely competitive for top finance and consulting jobs.', partners: ['Goldman Sachs', 'McKinsey & Company', 'Google', 'Every major firm in finance and consulting'], admissionReq: 'Holistic review through UPenn admissions. Demonstrated interest in business and leadership is key. SAT/ACT optional.', englishTests: 'IELTS: 7.0, TOEFL iBT: 100', docs: ['Common App', 'Penn-specific Essays', 'LORs'], appFee: '$75', tuition: 60920, tuitionLocal: '$60,920', scholarships: 'Need-blind admission. Meets 100% of demonstrated need with grants.', onCampusHousing: 'Required for first year. Approx. $18,500/year for room and board.', offCampusHousing: 'Plentiful in University City.', livingExpenses: '$22,000 - $26,000/year (including housing).', visa: 'F-1 visa, with access to OPT.', careerProspects: 'Arguably the best undergraduate placement into high finance (investment banking, private equity) and consulting globally.', employability: '#1 for business.', alumni: ['Warren Buffett (M.S.)', 'Elon Musk', 'Sundar Pichai (MBA)'], intlStudents: '13%', culture: 'Pre-professional, competitive, ambitious, and social. Strong "work hard, play hard" mentality.', weather: 'Four seasons, hot summers, cold winters.', reputation: 'The world\'s #1 undergraduate business school.', pros: ['#1 business school brand in the world', 'Unrivaled career placement in finance', 'Powerful and active alumni network'], cons: ['Extremely competitive and pre-professional culture', 'High-pressure environment', 'Extremely selective admissions'], reviews: 'Students describe it as a competitive but incredibly rewarding environment that opens almost any door in the business world.', rating: 10.0 },
                    { id: 'nyu-stern-com', name: 'NYU (Stern)', country: 'USA', qsRank: 43, location: 'New York, NY, USA', website: 'https://www.stern.nyu.edu/programs-admissions/undergraduate', type: 'Private Research University', appDeadlines: 'Jan 5 (Regular)', appOpening: 'Aug 1', duration: '4 Years', degree: 'B.S. in Business', structure: 'Combines a strong business core with a liberal arts foundation. Unique tracks like BS in Business & Political Economy.', specializations: ['Finance', 'Marketing', 'Actuarial Science', 'Statistics', 'Management'], research: 'Stern Program for Undergraduate Research (SPUR).', internships: 'Location in NYC provides unparalleled access to internships in finance, marketing, and media year-round.', partners: ['J.P. Morgan', 'Morgan Stanley', 'All major Wall Street firms', 'LVMH', 'Ogilvy'], admissionReq: 'Holistic review. Strong academics and a clear interest in business in an urban setting. Test-flexible policy.', englishTests: 'IELTS: 7.5, TOEFL iBT: 100', docs: ['Common App', 'NYU Supplement', 'LORs'], appFee: '$80', tuition: 62770, tuitionLocal: '$62,770', scholarships: 'Need-aware for internationals. Limited scholarships available, such as the AnBryce Scholarship.', onCampusHousing: 'Guaranteed for four years, but very expensive. Approx. $21,000/year.', offCampusHousing: 'Extremely expensive NYC rental market.', livingExpenses: '$28,000 - $35,000/year (including housing).', visa: 'F-1 visa, OPT.', careerProspects: 'A primary feeder school to Wall Street investment banks and other NYC-based industries.', employability: 'Top 10 for business in the US.', alumni: ['Jack Dorsey (Twitter)', 'Alan Greenspan'], intlStudents: '27%', culture: 'Fast-paced, ambitious, and deeply integrated with New York City. No traditional "campus" feel.', weather: 'Four seasons, iconic NYC weather.', reputation: 'A top-tier business school, especially dominant in finance due to its location.', pros: ['Unbeatable New York City location', 'Direct pipeline to Wall Street', 'Globally diverse student body'], cons: ['Extremely high cost of attendance and living', 'Lack of a traditional campus can be isolating', 'Need-aware for international aid'], reviews: 'Students choose Stern for its energy and direct access to NYC\'s professional world.', rating: 9.6 },
                    { id: 'umich-ross-com', name: 'UMich (Ross)', country: 'USA', qsRank: 23, location: 'Ann Arbor, MI, USA', website: 'https://michiganross.umich.edu/undergraduate', type: 'Public Research University', appDeadlines: 'Feb 1 (Regular)', appOpening: 'Aug 1', duration: '4 Years', degree: 'Bachelor of Business Administration (BBA)', structure: 'Admission is typically after the first year at UMich. Curriculum is action-based and collaborative, with a focus on leadership.', specializations: ['Finance', 'Marketing', 'Strategy', 'Business Economics'], research: 'Undergraduate research opportunities program (UROP).', internships: "Strong recruiting from a wide range of industries, including consulting, tech, and finance.", partners: ['Deloitte', 'PwC', 'Microsoft', 'PepsiCo', 'Goldman Sachs'], admissionReq: 'Admission as a first-year student to another UMich school (like LSA) is required first. Then, a highly competitive application to Ross.', englishTests: 'IELTS: 7.0, TOEFL iBT: 100', docs: ['Common App', 'UMich Questions', 'Ross Portfolio'], appFee: '$75', tuition: 58000, tuitionLocal: '$17,200 (in-state), $58,072 (out-of-state)', scholarships: 'Limited merit scholarships for international students.', onCampusHousing: 'Available, classic Big Ten university housing. Approx. $14,000/year.', offCampusHousing: 'Affordable options available.', livingExpenses: '$18,000 - $22,000/year.', visa: 'F-1 visa, OPT.', careerProspects: 'One of the best undergraduate business programs, with strong national placement.', employability: 'Top 5 public business school.', alumni: ['Stephen M. Ross (The Related Companies)', 'Brad Keywell (Groupon)'], intlStudents: '9%', culture: 'Highly collaborative, school-spirited (Go Blue!), in a quintessential college town.', weather: 'Cold winters, warm summers.', reputation: 'The top public undergraduate business school in the US.', pros: ['Action-based, practical learning model', 'Strong school spirit and alumni network', 'Excellent national reputation'], cons: ['Complex preferred admission process', 'Large program size', 'Michigan winters'], reviews: 'Students love the collaborative environment and the quintessential American college experience.', rating: 9.5 },
                    { id: 'berkeley-haas-com', name: 'UC Berkeley (Haas)', country: 'USA', qsRank: 11, location: 'Berkeley, CA, USA', website: 'https://haas.berkeley.edu/undergrad/', type: 'Public Research University', appDeadlines: 'Nov 30 (for UC App)', appOpening: 'Oct 1', duration: '4 Years (2 at Haas)', degree: 'B.S. in Business Administration', structure: 'Students apply to Haas after completing two years of prerequisite courses at Berkeley. The program is a two-year, cohort-based experience.', specializations: ['Finance', 'Marketing', 'Entrepreneurship', 'Corporate Social Responsibility'], research: 'Haas Scholars Program for undergraduate research.', internships: 'Bay Area location provides access to internships in tech, finance, and startups.', partners: ['Google', 'Deloitte', 'Salesforce', 'Wells Fargo'], admissionReq: 'Highly selective continuation program for existing Berkeley students. Requires high GPA and strong essays.', englishTests: 'IELTS: 6.5, TOEFL iBT: 80', docs: ['UC Application initially, then separate Haas application.'], appFee: '$95 (UC)', tuition: 48500, tuitionLocal: '$15,800 (in-state), $48,500 (out-of-state)', scholarships: 'Limited for internationals.', onCampusHousing: 'Limited for continuing students.', offCampusHousing: 'Very expensive and competitive rental market.', livingExpenses: '$25,000 - $30,000/year.', visa: 'F-1 visa, OPT.', careerProspects: 'Excellent placement into West Coast tech, consulting, and finance roles.', employability: 'Top 10 business school.', alumni: ['John Hanke (CEO of Niantic, Pok√©mon Go)'], intlStudents: '13%', culture: 'Collaborative, innovative, and guided by four defining principles: Question the Status Quo, Confidence Without Attitude, Students Always, Beyond Yourself.', weather: 'Mild, temperate climate.', reputation: 'The top public business school on the West Coast.', pros: ['Located in the Bay Area tech hub', 'Strong, collaborative culture', 'Excellent brand recognition'], cons: ['Highly competitive continuing student application', 'High cost of living', 'Impacted resources of a public university'], reviews: 'Students praise the close-knit cohort model and the school\'s focus on innovation.', rating: 9.5 },
                    { id: 'lse-com', name: 'London School of Economics', country: 'UK', qsRank: 50, location: 'London, UK', website: 'https://www.lse.ac.uk/study-at-lse/Undergraduate/degree-programmes-2025/BSc-Economics', type: 'Public Research University', appDeadlines: '31 Jan (via UCAS)', appOpening: 'Sep', duration: '3 Years', degree: 'BSc Economics', structure: 'Highly theoretical and mathematical approach to economics.', specializations: ['Economics', 'Econometrics', 'Mathematical Economics'], research: 'Opportunities through various research centres.', internships: 'Strongly supported via LSE Careers service.', partners: ['The "Big Four" accounting firms, major investment banks (Goldman Sachs, J.P. Morgan), consulting firms.'], admissionReq: 'A*AA at A-level with A* in Mathematics. Very high CBSE/ISC scores with excellent Maths required. Personal statement is critical.', englishTests: 'IELTS: 7.0, TOEFL iBT: 100', docs: ['UCAS application', 'Personal Statement', 'Teacher Reference'], appFee: '¬£28.50 (UCAS)', tuition: 36240, tuitionLocal: '¬£28,176/year', scholarships: 'LSE Undergraduate Support Scheme (need-based).', onCampusHousing: 'Guaranteed for first-year students (if conditions met).', offCampusHousing: '¬£800 - ¬£1,500/month. Very expensive.', livingExpenses: '¬£1,500 - ¬£2,500/month.', visa: 'Student visa, with Graduate Route visa.', careerProspects: 'Exceptional pathways into finance, consulting, and economic policy.', employability: 'Among the highest in the world for economics.', alumni: ['19 Nobel Prize winners in economics, many world leaders.'], intlStudents: '70%', culture: 'Highly international, ambitious, intellectual, and career-focused.', weather: 'Temperate oceanic.', reputation: 'A world-leading institution for economics and social sciences.', pros: ['Unparalleled global reputation in economics', 'Exceptional career outcomes in finance', 'Extremely international student body'], cons: ['Extremely high tuition and living costs', 'Intensely competitive admissions', 'Very theoretical and demanding curriculum'], reviews: 'Known for its academic rigor, global cohort, and prime London location.', rating: 9.8 },
                    { id: 'hec-paris-com', name: 'HEC Paris', country: 'France', qsRank: 4, location: 'Jouy-en-Josas, France', website: 'https://www.hec.edu/en/bachelor-s-programs/bachelor-data-society-and-organisations', type: 'Private Business School', appDeadlines: 'Varies by round (Oct-Apr)', appOpening: 'Sep', duration: '3 Years', degree: 'Bachelor in Data, Society and Organisations', structure: 'A new multidisciplinary program co-led by Bocconi University, focusing on data science for business and social sciences. Mandatory international exchange.', specializations: ['Data Science', 'Business', 'Social Sciences'], research: 'Final year capstone project.', internships: 'Mandatory summer internships.', partners: ['LVMH', 'McKinsey', 'Goldman Sachs', 'Google'], admissionReq: 'Holistic review of high school record, essays, and interview. Strong quantitative skills needed.', englishTests: 'IELTS: 7.0, TOEFL iBT: 100', docs: ['Online application', 'Essays', 'Transcripts', 'LORs'], appFee: '‚Ç¨125', tuition: 25000, tuitionLocal: '‚Ç¨24,850/year', scholarships: 'HEC Foundation Excellence Scholarships.', onCampusHousing: 'Guaranteed on a dedicated campus.', offCampusHousing: 'N/A', livingExpenses: '‚Ç¨1,000 - ‚Ç¨1,500/month.', visa: 'VLS-TS visa required.', careerProspects: 'Designed to produce leaders at the intersection of tech, business, and policy. Excellent placement expected.', employability: '#1 Business School in Europe (FT).', alumni: ['CEO of L\'Or√©al, Kering, Best Buy'], intlStudents: '70%+', culture: 'Elite, international, and intensive. Campus is outside Paris, fostering a strong community.', weather: 'Oceanic.', reputation: 'The top business school in continental Europe.', pros: ['#1 brand in European business', 'Unique data science-focused degree', 'Elite alumni network'], cons: ['Campus is isolated from Paris', 'Highly selective and intense environment', 'New and relatively unproven BSc program'], reviews: 'As a new program, reviews are limited, but HEC\'s overall reputation is stellar.', rating: 9.7 },
                    { id: 'stgallen-com', name: 'University of St. Gallen (HSG)', country: 'Switzerland', qsRank: 443, location: 'St. Gallen, Switzerland', website: 'https://www.unisg.ch/en/studium/bachelor/business-administration/', type: 'Public University', appDeadlines: '30 Apr', appOpening: '1 Oct', duration: '3 Years', degree: 'B.A. in Business Administration', structure: 'Rigorous and comprehensive business program. Most courses are in German for the first year, with more English options later.', specializations: ['Banking & Finance', 'Marketing', 'Accounting', 'Management'], research: "Bachelor's thesis required.", internships: 'Strongly encouraged, with excellent connections.', partners: ['Credit Suisse', 'UBS', 'McKinsey', 'Boston Consulting Group'], admissionReq: 'Requires passing a highly competitive internal entrance exam or having a very high SAT/ACT score.', englishTests: 'German (C1) and English proficiency required.', docs: ['Transcripts', 'Test Scores', 'Language Certificates'], appFee: 'CHF 250', tuition: 3500, tuitionLocal: 'CHF 3,329 per semester', scholarships: 'Excellence scholarships available.', onCampusHousing: 'No university dorms, private market.', offCampusHousing: 'CHF 500 - 900/month.', livingExpenses: 'CHF 1,800 - 2,400/month.', visa: 'Type D Visa.', careerProspects: 'The primary target school for top consulting and banking jobs in the German-speaking world.', employability: 'Extremely high, #1 in DACH region.', alumni: ['CEO of Deutsche Bank, Commerzbank'], intlStudents: '25%', culture: 'Highly ambitious, competitive, and career-focused. Known for being pre-professional.', weather: 'Temperate.', reputation: 'A world-leading business university, especially in German-speaking Europe.', pros: ['#1 for German-speaking finance/consulting jobs', 'Relatively low tuition', 'Strong practical focus'], cons: ['German language is essential', 'High cost of living', 'Intense, competitive culture'], reviews: 'Known as a gateway to top-tier jobs in Europe, but the environment is very demanding.', rating: 9.4 },
                    { id: 'rsm-com', name: 'RSM, Erasmus University', country: 'Netherlands', qsRank: 70, location: 'Rotterdam, Netherlands', website: 'https://www.rsm.nl/master/international-business-administration/', type: 'Public University', appDeadlines: '15 Jan (Numerus Fixus)', appOpening: '1 Oct', duration: '3 Years', degree: 'BSc in International Business Administration (IBA)', structure: '180 ECTS. Case-based, problem-solving approach to international business.', specializations: ['Finance', 'Marketing', 'Management', 'Strategy'], research: 'Bachelor thesis required.', internships: "Exchange or internship in third year is common.", partners: ['Unilever', 'PwC', 'KPMG', 'Shell'], admissionReq: 'High school diploma with excellent grades. Mathematics proficiency is essential. Selection process based on application.', englishTests: 'IELTS: 7.0, TOEFL iBT: 100', docs: ['Transcripts', 'CV', 'Motivation questions'], appFee: '‚Ç¨100', tuition: 11300, tuitionLocal: '‚Ç¨11,300/year (non-EU/EEA)', scholarships: 'Holland Scholarship, various RSM-specific scholarships.', onCampusHousing: 'Limited, assistance provided.', offCampusHousing: '‚Ç¨400 - ‚Ç¨700/month. Competitive market.', livingExpenses: '‚Ç¨900 - ‚Ç¨1,300/month.', visa: '1-year orientation year visa.', careerProspects: 'Excellent placement in multinational corporations across Europe.', employability: 'Very high, one of Europe\'s top business schools.', alumni: ['Many CEOs of major Dutch companies.'], intlStudents: '80%', culture: 'Extremely international, practical, collaborative, and career-driven.', weather: 'Temperate maritime.', reputation: 'Top-tier European business school.', pros: ['Elite business school reputation', 'Very practical and international curriculum', 'Relatively affordable for its rank'], cons: ['Housing market in Rotterdam is competitive', 'Numerus Fixus (limited spots)', 'Demanding group work culture'], reviews: 'Highly praised for its international diversity and focus on real-world business cases.', rating: 9.3 }
                ]
            },
            'AllScholarships': [
                { id: 1, name: "Science & Technology (S&T) Undergraduate Scholarship", university: "National University of Singapore (NUS)", country: "Singapore", field: "CS", funding_type: "Full", value_display: "Full Tuition + S$11,000+", eligibility: "Citizens of Asian countries (excluding Singapore).", link: "https://www.nus.edu.sg/oam/scholarships/freshmen-scholars/science-technology-undergraduate-scholarship" },
                { id: 2, name: "Nanyang Global Scholarship", university: "Nanyang Technological University (NTU)", country: "Singapore", field: "CS", funding_type: "Full", value_display: "Full Tuition + S$8,500+", eligibility: "Outstanding academics, co-curriculars, leadership potential.", link: "https://www.ntu.edu.sg/admissions/undergraduate/scholarships/scholarship-listings/detail/nanyang-scholarship" },
                { id: 3, name: "Sydney Scholars India Scholarship Program", university: "University of Sydney", country: "Australia", field: "CS", funding_type: "Full", value_display: "Up to 100% Tuition", eligibility: "Indian citizen and resident with an unconditional offer.", link: "https://www.sydney.edu.au/scholarships/e/sydney-scholars-india-scholarship-program.html" },
                { id: 4, name: "ANU Chancellor's International Scholarship", university: "Australian National University (ANU)", country: "Australia", field: "All", funding_type: "Partial", value_display: "25-50% Tuition Fee Reduction", eligibility: "International student with an offer of admission.", link: "https://www.anu.edu.au/study/scholarships/find-a-scholarship/anu-chancellors-international-scholarship" },
                { id: 5, name: "Melbourne International Undergraduate Scholarship", university: "University of Melbourne", country: "Australia", field: "All", funding_type: "Partial", value_display: "$10,000 to 100% Tuition Reduction", eligibility: "Citizen of an eligible country (India included), completed secondary school outside Australia.", link: "https://scholarships.unimelb.edu.au/awards/melbourne-international-undergraduate-scholarship" },
                { id: 6, name: "UQ International Excellence Scholarship", university: "University of Queensland (UQ)", country: "Australia", field: "All", funding_type: "Partial", value_display: "25% Tuition Fee Reduction", eligibility: "International student with an unconditional offer and competitive score.", link: "https://scholarships.uq.edu.au/scholarship/uq-international-excellence-scholarship" },
                { id: 7, name: "International Scientia Coursework Scholarship", university: "University of New South Wales (UNSW)", country: "Australia", field: "All", funding_type: "Full", value_display: "100% Tuition or AUD 20,000 p.a.", eligibility: "High academic achievement, leadership skills, extracurriculars.", link: "https://www.scholarships.unsw.edu.au/international-scientia-coursework-scholarship" },
                { id: 8, name: "NL Scholarship", university: "Various Dutch Universities", country: "Netherlands", field: "All", funding_type: "Partial", value_display: "‚Ç¨5,000 (one-time)", eligibility: "Non-EEA national, applying for a full-time bachelor's degree.", link: "https://www.studyinnl.org/finances/nl-scholarship" },
                { id: 9, name: "Aalto University Scholarship Programme", university: "Aalto University", country: "Finland", field: "All", funding_type: "Full", value_display: "50% or 100% Tuition Waiver", eligibility: "Talented non-EU/non-EEA students.", link: "https://www.aalto.fi/en/admission-services/scholarships-and-tuition-fees" },
                { id: 10, name: "Global Excellence Scholarship", university: "Trinity College Dublin", country: "Ireland", field: "All", funding_type: "Partial", value_display: "‚Ç¨5,000", eligibility: "High-achieving non-EU students.", link: "https://www.tcd.ie/global/scholarships/undergraduate/" },
                { id: 11, name: "University of Auckland International Student Excellence Scholarship", university: "University of Auckland", country: "New Zealand", field: "All", funding_type: "Partial", value_display: "Up to NZ$10,000", eligibility: "New international UG student.", link: "https://www.auckland.ac.nz/en/study/scholarships-and-awards/find-a-scholarship/university-of-auckland-international-student-excellence-scholarship-810-all.html" },
                { id: 12, name: "Lester B. Pearson International Scholarship", university: "University of Toronto", country: "Canada", field: "All", funding_type: "Full", value_display: "Full ride (tuition, books, fees, residence)", eligibility: "Nominated by your school; exceptional academic achievement and community involvement.", link: "https://future.utoronto.ca/pearson/" },
                { id: 13, name: "Karen McKellin International Leader of Tomorrow Award", university: "University of British Columbia", country: "Canada", field: "All", funding_type: "Full", value_display: "Proportional to financial need", eligibility: "Academically outstanding international student with demonstrated financial need.", link: "https://you.ubc.ca/financial-planning/scholarships-awards-international-students/leader-of-tomorrow/" },
                { name: 'Emile Boutmy Scholarship', university: 'Sciences Po', country: 'France', field: 'Humanities', funding_type: 'Partial', value_display: '‚Ç¨3,900 to ‚Ç¨14,210 per year', eligibility: 'Top non-EU students admitted to undergraduate programs.', link: 'https://www.sciencespo.fr/students/en/fees-funding/financial-aid/emile-boutmy-scholarship'},
                { name: 'Bocconi International Award', university: 'Bocconi University', country: 'Italy', field: 'Commerce', funding_type: 'Partial', value_display: '50% tuition waiver', eligibility: 'Outstanding international students based on academic profile.', link: 'https://www.unibocconi.eu/bocconi-international-award'},
                { name: 'Cambridge Trust International Scholarship', university: 'University of Cambridge', country: 'UK', field: 'All', funding_type: 'Full', value_display: 'Full cost of studying', eligibility: 'Varies by scholarship; many are need-based for international students.', link: 'https://www.cambridgetrust.org/scholarships' },
                { name: 'President\'s Undergraduate Scholarships', university: 'Imperial College London', country: 'UK', field: 'Engineering', funding_type: 'Partial', value_display: '¬£1,000 per year', eligibility: 'Academically outstanding applicants.', link: 'https://www.imperial.ac.uk/study/fees-and-funding/undergraduate/scholarships/' },
                { name: 'HEC Foundation Excellence Scholarship', university: 'HEC Paris', country: 'France', field: 'Commerce', funding_type: 'Partial', value_display: 'Varies', eligibility: 'Admitted students with exceptional academic records.', link: 'https://www.hec.edu/en/bachelor-s-programs/bachelor-data-society-and-organisations/admissions-and-fees' },
                { name: 'RSM Non-EEA Scholarship of Excellence', university: 'RSM, Erasmus University', country: 'Netherlands', field: 'Commerce', funding_type: 'Partial', value_display: 'Waiver of tuition fee', eligibility: 'Excellent students from non-EEA countries for the IBA program.', link: 'https://www.rsm.nl/bachelor/international-business-administration-iba/fees-and-scholarships/scholarships/' },
                { name: 'MIT Undergraduate Financial Aid', university: 'MIT', country: 'USA', field: 'All', funding_type: 'Full', value_display: 'Meets 100% of demonstrated need', eligibility: 'Need-blind admission; aid is based entirely on financial need.', link: 'https://sfs.mit.edu/undergraduate-students/' },
                { name: 'Harvard University Financial Aid', university: 'Harvard', country: 'USA', field: 'All', funding_type: 'Full', value_display: 'Meets 100% of demonstrated need', eligibility: 'Need-blind admission; aid is based entirely on financial need. No loans.', link: 'https://college.harvard.edu/financial-aid' },
                { name: 'Stanford University Financial Aid', university: 'Stanford', country: 'USA', field: 'All', funding_type: 'Full', value_display: 'Meets 100% of demonstrated need', eligibility: 'Need-blind admission; aid is based entirely on financial need.', link: 'https://financialaid.stanford.edu/undergrad/' },
                { name: 'Princeton University Financial Aid', university: 'Princeton', country: 'USA', field: 'All', funding_type: 'Full', value_display: 'Meets 100% of demonstrated need with no loans', eligibility: 'Need-blind admission; most generous aid program in the US.', link: 'https://finaid.princeton.edu/' },
                { name: 'Yale University Financial Aid', university: 'Yale', country: 'USA', field: 'All', funding_type: 'Full', value_display: 'Meets 100% of demonstrated need with no loans', eligibility: 'Need-blind admission; based on family\'s financial situation.', link: 'https://finaid.yale.edu/costs-affordability/affordability' },
                { name: 'University of Chicago Stamps Scholarship', university: 'UChicago', country: 'USA', field: 'All', funding_type: 'Full', value_display: 'Full ride + enrichment funds', eligibility: 'Among the most selective merit scholarships. All applicants considered.', link: 'https://collegeadmissions.uchicago.edu/cost-aid/scholarships/merit-scholarships' },
                { name: 'NYU International Student Scholarships', university: 'NYU', country: 'USA', field: 'All', funding_type: 'Partial', value_display: 'Varies ($1,000 to full tuition)', eligibility: 'Need-aware for internationals, limited number of merit and need-based awards.', link: 'https://www.nyu.edu/admissions/undergraduate-admissions/how-to-apply/international-applicants/scholarships.html' },
                { name: 'Tata Scholarship', university: 'Cornell University', country: 'USA', field: 'All', funding_type: 'Full', value_display: 'Full tuition for 8 semesters', eligibility: 'Citizens of India who have been admitted to Cornell.', link: 'https://admissions.cornell.edu/apply/international-students/tata-scholarship' },
                { name: 'Karsh International Scholarship', university: 'Duke University', country: 'USA', field: 'All', funding_type: 'Full', value_display: 'Full tuition, room, board, and fees', eligibility: 'Academically outstanding international students with demonstrated financial need.', link: 'https://karsh.duke.edu/' },
                { name: 'Robertson Scholars Leadership Program', university: 'Duke & UNC-Chapel Hill', country: 'USA', field: 'All', funding_type: 'Full', value_display: 'Full tuition, fees, room & board', eligibility: 'Students who demonstrate exceptional leadership potential.', link: 'https://robertsonscholars.org/' },
                { name: 'Stamps Scholarship', university: 'Georgia Tech', country: 'USA', field: 'Engineering', funding_type: 'Full', value_display: 'Full cost of attendance + enrichment funds', eligibility: 'Highest-achieving students are invited to apply after admission.', link: 'https://stampsps.gatech.edu/' },
                { name: 'International Major Entrance Scholarship', university: 'University of British Columbia', country: 'Canada', field: 'All', funding_type: 'Partial', value_display: 'Up to CAD $40,000 over 4 years', eligibility: 'Exceptional international students entering UBC from secondary school.', link: 'https://you.ubc.ca/financial-planning/scholarships-awards-international-students/imes/' }
            ]
        };

        // --- GLOBAL STATE ---
        let state = {
            currentView: 'ComputerScience',
            currentUniFilter: 'All',
            scholarshipFilters: {
                field: 'All',
                country: 'All',
                funding: 'All'
            },
            chatHistory: [],
        };
        let charts = { rankingsChart: null, tuitionChart: null };

        // --- THEME MANAGEMENT ---
        const setupTheme = () => {
            const themeToggle = document.getElementById('theme-toggle');
            const lightIcon = document.getElementById('theme-toggle-light-icon');
            const darkIcon = document.getElementById('theme-toggle-dark-icon');

            const applyTheme = (isDark) => {
                document.documentElement.classList.toggle('dark', isDark);
                lightIcon.classList.toggle('hidden', isDark);
                darkIcon.classList.toggle('hidden', !isDark);
                if (state.currentView !== 'Scholarships' && charts.rankingsChart) {
                    updateAllCharts();
                }
            };
            
            const userPrefersDark = localStorage.getItem('theme') === 'dark' || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches && !localStorage.getItem('theme'));
            applyTheme(userPrefersDark);

            themeToggle.addEventListener('click', () => {
                const isDark = document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
                applyTheme(isDark);
            });
        };

        // --- API & AI LOGIC ---
        async function callGemini(prompt, chatHistory) {
            const payload = { contents: [...chatHistory, { role: "user", parts: [{ text: prompt }] }] };
            
            const response = await fetch('/api/explorer', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });            if (!response.ok) throw new Error(`API request failed with status ${response.status}`);
            const result = await response.json();
            if (result.candidates?.[0]?.content?.parts?.[0]?.text) {
                return result.candidates[0].content.parts[0].text;
            }
            throw new Error("Unexpected API response structure.");
        }

        // --- RENDERING LOGIC ---
        const renderMainContent = () => {
            const mainContent = document.getElementById('main-content');
            if (charts.rankingsChart) charts.rankingsChart.destroy();
            if (charts.tuitionChart) charts.tuitionChart.destroy();
            
            switch(state.currentView) {
                case 'Scholarships':
                    mainContent.innerHTML = getScholarshipsViewHTML();
                    setupScholarshipFilters();
                    renderAllScholarships();
                    break;
                case 'ComputerScience':
                case 'Humanities':
                case 'Engineering':
                case 'Commerce':
                    mainContent.innerHTML = getUniversityViewHTML();
                    setupUniversityFilters();
                    renderUniversityGrid();
                    createOrUpdateCharts();
                    break;
                default:
                    mainContent.innerHTML = `<div class="text-center p-16 bg-white dark:bg-gray-800 rounded-lg shadow-md"><h2 class="text-2xl font-bold">Coming Soon!</h2><p class="text-gray-600 dark:text-gray-400 mt-2">Content for this section is under development.</p></div>`;
            }
        };

        const getUniversityViewHTML = () => `
            <section id="charts-section" class="mb-12"><div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><div class="bg-white/30 dark:bg-card-bg-dark/30 backdrop-blur-xl p-6 rounded-2xl shadow-lg border border-white/50 dark:border-border-dark"><h3 class="text-xl font-bold text-center mb-4 text-text-light-primary dark:text-text-dark-primary">QS World Ranking</h3><div class="chart-container"><canvas id="rankingsChart"></canvas></div></div><div class="bg-white/30 dark:bg-card-bg-dark/30 backdrop-blur-xl p-6 rounded-2xl shadow-lg border border-white/50 dark:border-border-dark"><h3 class="text-xl font-bold text-center mb-4 text-text-light-primary dark:text-text-dark-primary">Estimated Annual Tuition (USD)</h3><div class="chart-container"><canvas id="tuitionChart"></canvas></div></div></div></section>
            <nav class="bg-white/70 dark:bg-gray-800/50 backdrop-blur-sm p-4 rounded-xl shadow-lg mb-8 sticky top-32 z-40 flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-4 border border-gray-200 dark:border-gray-700"><label class="font-semibold text-gray-700 dark:text-gray-200">Filter by Country:</label><div id="country-filter-buttons" class="flex flex-wrap justify-center gap-2"></div></nav>
            <section id="university-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></section>`;

        const getScholarshipsViewHTML = () => `
             <h2 class="text-3xl font-bold text-center mb-8 text-text-light-primary dark:text-text-dark-primary">Scholarship Explorer</h2>
             <div class="p-4 rounded-2xl shadow-md mb-8 bg-card-bg-light dark:bg-card-bg-dark space-y-4">
                 <div><h3 class="font-semibold mb-2 text-text-light-secondary dark:text-text-dark-secondary">Filter by Field</h3><div id="scholarship-field-filters" class="flex flex-wrap gap-2"></div></div>
                 <div><h3 class="font-semibold mb-2 text-text-light-secondary dark:text-text-dark-secondary">Filter by Country</h3><div id="scholarship-country-filters" class="flex flex-wrap gap-2"></div></div>
                 <div><h3 class="font-semibold mb-2 text-text-light-secondary dark:text-text-dark-secondary">Filter by Funding</h3><div id="scholarship-funding-filters" class="flex flex-wrap gap-2"></div></div>
             </div>
             <p id="scholarship-count" class="text-center mb-4 font-medium text-text-light-secondary dark:text-text-dark-secondary"></p>
             <div id="scholarship-grid-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>`;
        
        const renderUniversityGrid = () => {
            const grid = document.getElementById('university-grid');
            const data = AppData[state.currentView].universities;
            let filteredData = state.currentUniFilter === 'All' ? data : data.filter(u => u.country === state.currentUniFilter);
            filteredData.sort((a, b) => a.qsRank - b.qsRank);

            grid.innerHTML = filteredData.map(uni => `
                <div class="university-card rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col" data-id="${uni.id}">
                    <div class="p-5 flex-grow"><div class="flex justify-between items-start mb-3"><span class="text-xs font-bold uppercase tracking-wider" style="color: ${getCountryColor(uni.country)}">${uni.country}</span><div class="flex items-center space-x-1 text-amber-500 dark:text-amber-400"><span class="font-bold text-sm">${uni.rating}</span><span class="text-lg">‚òÖ</span></div></div><h3 class="text-xl font-bold text-text-light-primary dark:text-text-dark-primary mb-1">${uni.name}</h3><p class="text-sm text-text-light-secondary dark:text-text-dark-secondary mb-4">${uni.location}</p></div>
                    <div class="px-5 py-4 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-100 dark:border-gray-700 rounded-b-xl"><div class="flex justify-between items-center text-sm"><div><p class="text-text-light-secondary dark:text-text-dark-secondary">QS Rank</p><p class="font-bold text-text-light-primary dark:text-text-dark-primary text-lg">#${uni.qsRank}</p></div><div><p class="text-text-light-secondary dark:text-text-dark-secondary">Tuition/yr (USD)</p><p class="font-bold text-text-light-primary dark:text-text-dark-primary text-lg">$${uni.tuition.toLocaleString()}</p></div></div></div>
                </div>`).join('');
            document.querySelectorAll('.university-card').forEach(card => card.addEventListener('click', () => openUniversityModal(card.dataset.id, state.currentView)));
        };

        const renderAllScholarships = () => {
            const container = document.getElementById('scholarship-grid-container');
            const countEl = document.getElementById('scholarship-count');
            let data = AppData.AllScholarships;
            if (state.scholarshipFilters.field !== 'All') data = data.filter(s => s.field === state.scholarshipFilters.field || s.field === 'All');
            if (state.scholarshipFilters.country !== 'All') data = data.filter(s => s.country === state.scholarshipFilters.country);
            if (state.scholarshipFilters.funding !== 'All') data = data.filter(s => s.funding_type === state.scholarshipFilters.funding);
            countEl.textContent = `${data.length} scholarships found.`;

            container.innerHTML = data.map(s => `
                <div class="scholarship-card p-6 rounded-2xl flex flex-col justify-between">
                    <div>
                        <span class="inline-block bg-pink-100 text-pink-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full dark:bg-pink-900 dark:text-pink-300">${s.field}</span>
                        <span class="inline-block bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full dark:bg-blue-900 dark:text-blue-300">${s.funding_type}</span>
                        <h4 class="text-xl font-bold my-2 text-text-light-primary dark:text-text-dark-primary">${s.name}</h4>
                        <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary mb-2"><strong>${s.university}, ${s.country}</strong></p>
                        <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary"><strong>Value:</strong> ${s.value_display}</p>
                    </div>
                    <div class="mt-4"><a href="${s.link}" target="_blank" class="w-full text-center block bg-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors">Official Link</a></div>
                </div>`).join('');
        };
        
        // --- MODAL LOGIC ---
        const openUniversityModal = (uniId, field) => {
            const uni = AppData[field].universities.find(u => u.id === uniId);
            if (!uni) return;
            const modalContainer = document.getElementById('university-modal');
            let modalChatHistory = [];
            
            modalContainer.innerHTML = `
                <div class="bg-card-bg-light dark:bg-card-bg-dark rounded-2xl shadow-2xl w-full max-w-4xl modal-card-height flex flex-col border border-border-light dark:border-border-dark">
                    <div class="p-6 border-b border-border-light dark:border-border-dark flex justify-between items-start">
                        <div>
                            <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100">${uni.name}</h2>
                            <p class="text-md text-gray-500 dark:text-gray-400">${uni.location}</p>
                        </div>
                        <button class="close-modal-btn text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-500 text-3xl font-bold">&times;</button>
                    </div>
                    <div class="p-6 flex-shrink-0">
                        <div id="modal-tabs" class="flex flex-nowrap overflow-x-auto custom-scrollbar border-b border-border-light dark:border-border-dark mb-4 -mt-2 space-x-2 pb-2"></div>
                    </div>
                    <div id="modal-content" class="overflow-y-auto custom-scrollbar px-6 pb-6 flex-grow"></div>
                </div>`;
            
            const tabs = [ { name: 'Admissions & Academics', icon: 'üéì' }, { name: 'Costs & Housing', icon: 'üí∞' }, { name: 'Career & Culture', icon: 'üìà' }, { name: 'AI Insights', icon: '‚ú®' }, { name: 'Pros & Cons', icon: '‚öñÔ∏è' } ];
            const tabsContainer = modalContainer.querySelector('#modal-tabs');
            tabsContainer.innerHTML = tabs.map((tab, index) => `<button class="modal-tab-btn whitespace-nowrap py-2 px-3.5 text-xs font-medium text-center rounded-full transition-colors border ${index === 0 ? 'active' : 'bg-transparent text-gray-500 border-gray-300 dark:text-gray-400 dark:border-gray-600'}" data-tab="${tab.name}"><span class="hidden md:inline">${tab.icon} </span>${tab.name}</button>`).join('');
            
            const renderModalContent = (activeTab) => {
                const contentContainer = modalContainer.querySelector('#modal-content');
                let content = '';
                const detailItem = (label, value, isLink = false) => {
                    if (!value || value.length === 0) return '';
                    const displayValue = isLink ? `<a href="${value}" target="_blank" class="text-blue-500 hover:underline break-all">${value}</a>` : Array.isArray(value) ? value.join(', ') : value;
                    return `<div class="py-3 sm:grid sm:grid-cols-3 sm:gap-4"><dt class="text-sm font-medium text-gray-500 dark:text-gray-400">${label}</dt><dd class="mt-1 text-sm text-gray-900 dark:text-gray-100 sm:mt-0 sm:col-span-2">${displayValue}</dd></div>`;
                };
                const prosConsItem = (items, isPro) => {
                    const icon = isPro ? '<span class="text-emerald-500 dark:text-emerald-400 mr-2">‚úî</span>' : '<span class="text-rose-500 dark:text-rose-400 mr-2">‚úñ</span>';
                    return items.map(item => `<li class="flex items-start py-1">${icon}<span class="text-gray-900 dark:text-gray-100">${item}</span></li>`).join('');
                };

                switch (activeTab) {
                    case 'Admissions & Academics': content = `<dl class="divide-y divide-border-light dark:divide-border-dark">${detailItem('Degree Awarded', uni.degree)}${detailItem('Program Duration', uni.duration)}${detailItem('Specializations', uni.specializations)}${detailItem('Program Structure', uni.structure)}${detailItem('Admission Requirements', uni.admissionReq)}${detailItem('Application Deadlines', uni.appDeadlines)}${detailItem('English Proficiency Tests', uni.englishTests)}${detailItem('Required Documents', uni.docs)}${detailItem('Research Opportunities', uni.research)}${detailItem('Internship / Co-op', uni.internships)}${detailItem('Official Program Website', uni.website, true)}</dl>`; break;
                    case 'Costs & Housing': content = `<dl class="divide-y divide-border-light dark:divide-border-dark">${detailItem('Annual Tuition (USD)', `$${uni.tuition.toLocaleString()}`)}${detailItem('Annual Tuition (Local)', uni.tuitionLocal)}${detailItem('Application Fee', uni.appFee)}${detailItem('Scholarships', uni.scholarships)}${detailItem('On-Campus Housing', uni.onCampusHousing)}${detailItem('Off-Campus Housing', uni.offCampusHousing)}${detailItem('Avg. Monthly Living Expenses', uni.livingExpenses)}</dl>`; break;
                    case 'Career & Culture': content = `<dl class="divide-y divide-border-light dark:divide-border-dark">${detailItem('Global Reputation', uni.reputation)}${detailItem('Employability / Satisfaction', uni.employability)}${detailItem('Career Prospects', uni.careerProspects)}${detailItem('Industry Partners', uni.partners)}${detailItem('Notable Alumni', uni.alumni)}${detailItem('Post-Study Work Visa', uni.visa)}${detailItem('Campus Culture', uni.culture)}${detailItem('International Student %', uni.intlStudents)}${detailItem('City Climate', uni.weather)}</dl>`; break;
                    case 'AI Insights': content = `<div class="text-center"><button id="ai-counsellor-btn" class="ai-button text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed">‚ú® Ask AI Counsellor</button><div id="ai-loader" class="loader mx-auto my-4 hidden"></div><div id="ai-insights-content" class="mt-4 text-left text-gray-900 dark:text-gray-100 prose prose-sm max-w-none dark:prose-invert"></div><div id="ai-follow-up-container" class="mt-6 text-left hidden"><div id="ai-follow-up-chatbox" class="space-y-4 mb-4"></div><div class="flex space-x-2"><input type="text" id="ai-follow-up-input" class="w-full p-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-pink-400" placeholder="Ask a follow-up question..."><button id="send-ai-follow-up" class="ai-button text-white font-bold py-2 px-4 rounded-lg">Send</button></div><div id="follow-up-thinking-indicator" class="hidden mt-2 flex items-center space-x-2"><span class="text-gray-500 dark:text-gray-400">Counsellor is thinking...</span><div class="typing-indicator"><span></span><span></span><span></span></div></div></div></div>`; break;
                    case 'Pros & Cons': content = `<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="text-gray-900 dark:text-gray-100"><h4 class="text-lg font-semibold text-emerald-700 dark:text-emerald-400 mb-2">Pros</h4><ul class="text-sm space-y-1">${prosConsItem(uni.pros, true)}</ul></div><div class="text-gray-900 dark:text-gray-100"><h4 class="text-lg font-semibold text-rose-700 dark:text-rose-400 mb-2">Cons</h4><ul class="text-sm space-y-1">${prosConsItem(uni.cons, false)}</ul></div></div><div class="mt-6 text-gray-900 dark:text-gray-100"><h4 class="text-lg font-semibold mb-2">Student Reviews Summary</h4><p class="text-sm bg-gray-100 dark:bg-gray-800 p-4 rounded-lg italic">"${uni.reviews}"</p></div>`; break;
                }
                contentContainer.innerHTML = content;
                if(activeTab === 'AI Insights') {
                    contentContainer.querySelector('#ai-counsellor-btn').addEventListener('click', (e) => generateAiCounsellorInsights(uni, e.target, modalChatHistory));
                    const followUpBtn = contentContainer.querySelector('#send-ai-follow-up');
                    const followUpInput = contentContainer.querySelector('#ai-follow-up-input');
                    followUpBtn.addEventListener('click', () => handleFollowUpQuery(uni, modalChatHistory, followUpInput, followUpBtn));
                    followUpInput.addEventListener('keypress', (e) => e.key === 'Enter' && handleFollowUpQuery(uni, modalChatHistory, followUpInput, followUpBtn));
                }
            };
            
            tabsContainer.querySelectorAll('.modal-tab-btn').forEach(button => button.addEventListener('click', (e) => {
                tabsContainer.querySelectorAll('.modal-tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                    btn.classList.add('bg-transparent', 'text-gray-500', 'border-gray-300', 'dark:text-gray-400', 'dark:border-gray-600');
                });
                e.target.classList.add('active');
                 e.target.classList.remove('bg-transparent', 'text-gray-500', 'border-gray-300', 'dark:text-gray-400', 'dark:border-gray-600');
                renderModalContent(e.target.dataset.tab);
            }));

            renderModalContent(tabs[0].name);
            modalContainer.classList.remove('hidden');
            modalContainer.classList.add('flex');
            modalContainer.querySelector('.close-modal-btn').addEventListener('click', () => modalContainer.classList.add('hidden'));
        };

        const generateAiCounsellorInsights = async (uni, button, chatHistory) => {
            const contentContainer = document.getElementById('ai-insights-content');
            const loader = document.getElementById('ai-loader');
            const followUpContainer = document.getElementById('ai-follow-up-container');
            
            button.disabled = true;
            loader.classList.remove('hidden');
            contentContainer.innerHTML = '';
            chatHistory.length = 0; // Reset history
            
            const prompt = `Act as an expert university admissions counsellor. Provide a concise, insightful analysis for a student considering the ${uni.degree} at ${uni.name}. Based on its specializations in ${uni.specializations.join(', ')}, its reputation as '${uni.reputation}', and its key pros ('${uni.pros.join("', '")}') and cons ('${uni.cons.join("', '")}'), what is the ideal student profile for this program? What are 2-3 unique career paths this degree could lead to, given its location and partners? Format the response using Markdown.`;
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });

            try {
                const text = await callGemini(prompt, []);
                chatHistory.push({ role: "model", parts: [{ text }] });
                contentContainer.innerHTML = marked.parse(text);
                followUpContainer.classList.remove('hidden');
            } catch(error) {
                contentContainer.innerHTML = `<p class="text-red-500">Sorry, something went wrong. Please try again.</p>`;
                button.disabled = false;
            } finally {
                loader.classList.add('hidden');
            }
        };
        
        const handleFollowUpQuery = async (uni, chatHistory, input, button) => {
            const question = input.value.trim();
            if (!question) return;

            const chatbox = document.getElementById('ai-follow-up-chatbox');
            const thinkingIndicator = document.getElementById('follow-up-thinking-indicator');
            
            chatbox.insertAdjacentHTML('beforeend', `<div class="flex justify-end"><div class="bg-blue-500 text-white p-2 rounded-lg max-w-xs text-sm">${question}</div></div>`);
            input.value = '';
            chatbox.scrollTop = chatbox.scrollHeight;
            thinkingIndicator.classList.remove('hidden');
            button.disabled = true;
            input.disabled = true;

            try {
                const text = await callGemini(question, chatHistory);
                chatHistory.push({ role: "user", parts: [{ text: question }] });
                chatHistory.push({ role: "model", parts: [{ text }] });
                chatbox.insertAdjacentHTML('beforeend', `<div class="flex justify-start"><div class="bg-gray-200 dark:bg-slate-700 p-2 rounded-lg max-w-xs text-sm text-gray-900 dark:text-gray-100">${marked.parse(text)}</div></div>`);
            } catch (error) {
                chatbox.insertAdjacentHTML('beforeend', `<div class="flex justify-start"><div class="bg-red-100 text-red-700 p-2 rounded-lg max-w-xs text-sm">Sorry, an error occurred.</div></div>`);
            } finally {
                thinkingIndicator.classList.add('hidden');
                button.disabled = false;
                input.disabled = false;
                input.focus();
                chatbox.scrollTop = chatbox.scrollHeight;
            }
        };

        // --- CHARTING LOGIC ---
        const getCountryColor = (country) => ({ 'USA': '#0A3161', 'UK': '#C8102E', 'Canada': '#FF0000', 'Singapore': '#FF6384', 'Australia': '#36A2EB', 'Netherlands': '#FFCE56', 'Finland': '#4BC0C0', 'Ireland': '#16A34A', 'New Zealand': '#9966FF', 'France': '#0055A4', 'Italy': '#008C45', 'Switzerland': '#FF0000', 'Belgium': '#FDDA24', 'Sweden': '#006AA7', 'Denmark': '#C60C30', 'Germany': '#FFCC00' }[country] || '#CCCCCC');
        
        const createOrUpdateCharts = () => {
            const rankingsCtx = document.getElementById('rankingsChart')?.getContext('2d');
            const tuitionCtx = document.getElementById('tuitionChart')?.getContext('2d');
            if(!rankingsCtx || !tuitionCtx) return;
            if (charts.rankingsChart) charts.rankingsChart.destroy();
            if (charts.tuitionChart) charts.tuitionChart.destroy();
            charts.rankingsChart = new Chart(rankingsCtx, { type: 'bar', data: getChartData('qsRank'), options: getChartOptions(false) });
            charts.tuitionChart = new Chart(tuitionCtx, { type: 'bar', data: getChartData('tuition'), options: getChartOptions(true) });
            updateAllCharts();
        };
        const updateAllCharts = () => {
            if (!charts.rankingsChart) return;
             const rankingsData = getChartData('qsRank');
             const tuitionData = getChartData('tuition');
             const isDark = document.documentElement.classList.contains('dark');
             const tickColor = isDark ? 'rgba(226, 232, 240, 0.8)' : 'rgba(74, 85, 104, 0.8)';
             const gridColor = isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.05)';
            [charts.rankingsChart, charts.tuitionChart].forEach((chart, index) => {
                const newData = index === 0 ? rankingsData : tuitionData;
                chart.data.labels = newData.labels;
                chart.data.datasets[0].data = newData.datasets[0].data;
                chart.data.datasets[0].backgroundColor = newData.datasets[0].backgroundColor;
                chart.options.scales.x.ticks.color = tickColor;
                chart.options.scales.y.ticks.color = tickColor;
                chart.options.scales.x.grid.color = gridColor;
                chart.options.scales.y.grid.color = gridColor;
                chart.update();
            });
        };
        const getChartData = (key) => {
            const data = AppData[state.currentView].universities;
            let filteredData = state.currentUniFilter === 'All' ? data : data.filter(u => u.country === state.currentUniFilter);
            filteredData.sort((a, b) => (key === 'qsRank' ? a[key] - b[key] : b[key] - a[key]));
            return {
                labels: filteredData.map(u => u.name.length > 15 ? u.name.substring(0, 12) + '...' : u.name),
                datasets: [{ label: key, data: filteredData.map(u => u[key]), backgroundColor: filteredData.map(u => getCountryColor(u.country)), borderWidth: 1, borderRadius: 5 }]
            };
        };
        const getChartOptions = (isCurrency) => ({
            maintainAspectRatio: false, responsive: true, indexAxis: isCurrency ? 'y' : 'x', plugins: { legend: { display: false } },
            scales: { x: { beginAtZero: true }, y: { reverse: !isCurrency } }
        });
        
        // --- EVENT LISTENERS & INITIALIZATION ---
        const setupNavListeners = () => document.querySelectorAll('.main-nav-btn').forEach(button => button.disabled || button.addEventListener('click', e => {
            state.currentView = e.target.dataset.view;
            state.currentUniFilter = 'All'; // Reset filter
            document.querySelectorAll('.main-nav-btn').forEach(btn => btn.classList.remove('active'));
            e.target.classList.add('active');
            renderMainContent();
        }));
        
        const setupUniversityFilters = () => {
            const container = document.getElementById('country-filter-buttons');
            const countries = ['All', ...new Set(AppData[state.currentView].universities.map(u => u.country))];
            container.innerHTML = countries.map(c => `<button class="filter-btn px-4 py-2 rounded-full text-sm font-semibold border-2 border-gray-300 dark:border-gray-600" data-country="${c}">${c}</button>`).join('');
            container.querySelectorAll('.filter-btn').forEach(button => button.addEventListener('click', e => {
                state.currentUniFilter = e.target.dataset.country;
                container.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                renderUniversityGrid();
                updateAllCharts();
            }));
            container.querySelector('[data-country="All"]').classList.add('active');
        };

        const setupScholarshipFilters = () => {
            const createFilterButtons = (containerId, options, filterKey) => {
                const container = document.getElementById(containerId);
                container.innerHTML = ['All', ...options].map(opt => `<button class="filter-btn px-3 py-1 rounded-full text-sm border-2 border-gray-300 dark:border-gray-600" data-filter="${opt}">${opt}</button>`).join('');
                container.querySelectorAll('.filter-btn').forEach(button => button.addEventListener('click', e => {
                    state.scholarshipFilters[filterKey] = e.target.dataset.filter === 'All' ? 'All' : e.target.dataset.filter;
                    container.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                    renderAllScholarships();
                }));
                container.querySelector('[data-filter="All"]').classList.add('active');
            };
            createFilterButtons('scholarship-field-filters', [...new Set(AppData.AllScholarships.map(s => s.field))], 'field');
            createFilterButtons('scholarship-country-filters', [...new Set(AppData.AllScholarships.map(s => s.country))], 'country');
            createFilterButtons('scholarship-funding-filters', [...new Set(AppData.AllScholarships.map(s => s.funding_type))], 'funding');
        };
        
        const setupAiModalListeners = () => {
            const modal = document.getElementById('ai-chat-modal');
            const openBtn = document.getElementById('open-ask-ai-modal-btn');
            const closeBtn = document.getElementById('close-ask-ai-modal');
            const sendBtn = document.getElementById('send-ai-question');
            const input = document.getElementById('ai-question-input');
            openBtn.addEventListener('click', () => modal.classList.add('flex') & modal.classList.remove('hidden'));
            closeBtn.addEventListener('click', () => modal.classList.add('hidden'));
            const handleQuery = async () => {
                const question = input.value.trim();
                if (!question) return;
                const chatBox = document.getElementById('ai-chat-box');
                const thinkingIndicator = document.getElementById('ai-thinking-indicator');
                chatBox.insertAdjacentHTML('beforeend', `<div class="flex justify-end"><div class="bg-pink-500 text-white p-3 rounded-lg max-w-xs">${question}</div></div>`);
                input.value = '';
                chatBox.scrollTop = chatBox.scrollHeight;
                thinkingIndicator.classList.remove('hidden');
                sendBtn.disabled = true;
                const prompt = `You are "UniWhiz," an AI assistant for students. The user is currently viewing the "${state.currentView}" section. Answer their questions. Current Question: "${question}"`;
                try {
                    const text = await callGemini(prompt, state.chatHistory);
                    state.chatHistory.push({ role: "user", parts: [{ text: question }] });
                    state.chatHistory.push({ role: "model", parts: [{ text }] });
                    chatBox.insertAdjacentHTML('beforeend', `<div class="flex justify-start"><div class="bg-gray-200 dark:bg-slate-600 p-3 rounded-lg max-w-xs">${marked.parse(text)}</div></div>`);
                } catch (error) {
                    chatBox.insertAdjacentHTML('beforeend', `<div class="flex justify-start"><div class="bg-red-100 text-red-700 p-3 rounded-lg max-w-xs">Sorry, I had an issue. Please try again.</div></div>`);
                } finally {
                    thinkingIndicator.classList.add('hidden');
                    sendBtn.disabled = false;
                    chatBox.scrollTop = chatBox.scrollHeight;
                }
            };
            sendBtn.addEventListener('click', handleQuery);
            input.addEventListener('keypress', (e) => e.key === 'Enter' && handleQuery());
        };

        // --- APP INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            setupTheme();
            setupNavListeners();
            setupAiModalListeners();
            renderMainContent();
        });
    </script>
</body>
</html>
